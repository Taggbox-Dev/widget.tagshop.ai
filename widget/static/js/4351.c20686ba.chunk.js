(self.webpackChunkembed_widget=self.webpackChunkembed_widget||[]).push([[4351],{6723:(t,e,o)=>{"use strict";o.r(e),o.d(e,{default:()=>l});var a=o(9950),s=o(76506),i=o(44414),n=t=>{var{createdAt:e,timeClass:o}=t;return(0,i.jsx)("div",{className:o,role:"status","aria-label":"post timestamp ".concat((0,s.fF)(e)),children:(0,s.fF)(e)})};const l=(0,a.memo)(n)},9337:()=>{},14250:(t,e,o)=>{"use strict";o.d(e,{A:()=>s});o(9950);var a=o(44414);const s=t=>{var e,{aiSummary:o,type:s}=t;return 1===s?(0,a.jsx)("div",{className:"tb_ai_content",children:null===o||void 0===o||null===(e=o.bullet_points)||void 0===e?void 0:e.map((t,e)=>(0,a.jsx)("div",{className:"tb_ai_list_item",children:t},e))}):(0,a.jsx)("div",{className:"tb_ai_content",children:null===o||void 0===o?void 0:o.text})}},54658:(t,e,o)=>{"use strict";o.r(e),o.d(e,{default:()=>L});var a=o(89379),s=o(9950),i=o(10300),n=o(66345),l=o(10467),r=o(76506),d=o(80415),c=o(44414);const p=t=>{var{size:e,themeId:o,ThemeInfo:a}=t,s=t=>o==t&&1==e;return(0,c.jsx)("div",{ref:t=>{t&&(t.style.setProperty("opacity","0.8","important"),t.style.setProperty("display","flex","important"),t.style.setProperty("width","".concat(2==e?"110px":"75px"),"important"),t.style.setProperty("height","".concat(2==e?"25px":"18px"),"important"),t.style.setProperty("max-width","".concat(2==e?"110px":"75px"),"important"),t.style.setProperty("max-height","".concat(2==e?"25px":"18px"),"important"),t.style.setProperty("top","".concat(s(55)||s(62)||s(61)?"auto":"14px"),"important"),t.style.setProperty("left","".concat(s(62)||s(61)?"auto":"14px"),"important"),t.style.setProperty("right","".concat(s(55)||s(62)||s(61)?"14px":"auto"),"important"),t.style.setProperty("bottom","".concat(s(55)||s(62)||s(61)?"14px":"auto"),"important"),t.style.setProperty("margin","0 auto","important"),t.style.setProperty("position","absolute","important"),t.style.setProperty("visibility","visible","important"),t.style.setProperty("z-index","3","important"),t.style.setProperty("background-image","url(".concat(d.th,"media/logos/").concat(3==a.productType?"tagembed/tagembed-new.svg":"tagbox_logo-light.svg",")"),"important"),t.style.setProperty("background-repeat","no-repeat","important"),t.style.setProperty("background-size","contain","important"),t.style.setProperty("clip-path","initial","important"))},children:(0,c.jsx)("div",{children:" "})})};var h=s.lazy(()=>Promise.all([o.e(8092),o.e(1823),o.e(3556),o.e(1828)]).then(o.bind(o,51828))),_=s.lazy(()=>Promise.all([o.e(1823),o.e(9924)]).then(o.bind(o,69924))),m=s.lazy(()=>Promise.all([o.e(8092),o.e(7482)]).then(o.bind(o,7482))),u=s.lazy(()=>Promise.all([o.e(5388),o.e(1883)]).then(o.bind(o,29779)));class v extends s.PureComponent{constructor(t){var e;super(t),e=this,this.handleResize=()=>{this.setState({winSize:{width:window.innerWidth,height:window.innerHeight}},()=>{var{mediaSize:t}=this.state;this.setSize(t.height,t.width)})},this.setSize=(t,e)=>{var{hideContent:o}=this.props,{winSize:a}=this.state,s=e<=0?1e3:e,i=t<=0?1e3:t,n=Math.max(1,a.width-535),l=Math.max(1,a.height-(90+(o?69:0))),r=Math.min(n/s,l/i),d={height:i*r,width:s*r,paddingBottom:100*i/s},c={winHeight:a.height,winWidth:a.width,height:d.height,width:d.width,paddingBottom:d.paddingBottom};this.props.allSizeCallback(c),this.setState({mediaSize:{height:d.height,width:d.width,paddingBottom:d.paddingBottom}})},this.onMediaLoad=function(){var t=(0,l.A)(function*(t){var{height:o,width:a}=t.media;if(o&&a)e.setSize(o,a);else{var s=document.querySelector(".tb_media-".concat(t.id)),i=s?parseInt(s.getAttribute("data-height"),10):0,n=s?parseInt(s.getAttribute("data-width"),10):0;if(n>0&&i>0)e.setSize(i,n);else try{var{width:l,height:d}=yield(0,r.TW)(t.media.image.small);e._isMounted&&e.setSize(d,l)}catch(c){e._isMounted&&e.setSize(1e3,1e3)}}});return function(e){return t.apply(this,arguments)}}(),this.state={winSize:{width:window.innerWidth,height:window.innerHeight},mediaSize:{height:0,width:0,paddingBottom:0}}}static getDerivedStateFromProps(t,e){return t.Post!==e.Post?(0,a.A)((0,a.A)({},e),{},{Post:t.Post}):null}componentDidMount(){var{Post:t}=this.props;window.addEventListener("resize",this.handleResize),this._isMounted=!0,this.onMediaLoad(t)}componentDidUpdate(t){this.props.Post!==t.Post&&this.onMediaLoad(this.props.Post)}componentWillUnmount(){this._isMounted=!1,window.removeEventListener("resize",this.handleResize)}render(){var{Post:t,ThemeInfo:e,onUpdateProdImgIdx:o,showTooltip:a}=this.props,{winSize:i,mediaSize:n}=this.state,l={maxHeight:i.width>991?n.height:null,maxWidth:i.width>991?n.width:null,aspectRatio:"".concat(n.width," / ").concat(n.height),flexBasis:i.width>991?n.height:null},r={paddingBottom:"".concat(n.paddingBottom,"%"),width:i.width>991?n.width:null};return(0,c.jsxs)("div",{className:"tb_post_modal_media_holder",style:l,children:[null!==e&&void 0!==e&&e.branding?(0,c.jsx)(p,{size:2,ThemeInfo:e,themeId:e.id}):null,(0,c.jsx)("div",{className:"tb_post_modal_media",style:r,children:(0,c.jsx)("div",{className:"tb_post_modal_media_",children:t.mediaList&&t.mediaList.length>0?(0,c.jsx)(s.Suspense,{fallback:(0,c.jsx)(c.Fragment,{}),children:(0,c.jsx)(h,{winSize:i,Post:t,mediaSize:n,ThemeInfo:e,onUpdateProdImgIdx:o,showTooltip:a})}):[2,4].includes(t.type)?(0,c.jsx)(s.Suspense,{fallback:(0,c.jsx)(c.Fragment,{}),children:(0,c.jsx)(_,{winSize:i,Post:t,Item:!1,Products:t.products,mediaSize:n,ThemeInfo:e,opacity:1,showTooltip:a,hotspot:!0})}):[3,5].includes(t.type)?t.isAudio?(0,c.jsx)(s.Suspense,{fallback:(0,c.jsx)(c.Fragment,{}),children:(0,c.jsx)(u,{Post:t})}):(0,c.jsx)(s.Suspense,{fallback:(0,c.jsx)(c.Fragment,{}),children:(0,c.jsx)(m,{Post:t,mediaSize:n},t.id)}):null})})]})}}var b=o(92663),g=o(52867),y=o(78167),w=o(6723);class x extends s.PureComponent{constructor(t){super(t),this.state={picture:t.Post.author.picture}}UNSAFE_componentWillReceiveProps(t){var{Post:e}=t;this.setState({picture:e.author.picture})}render(){var t,e,o,a,s,{Post:i,CardStyle:l,Reviews:d}=this.props,{name:p,username:h}=i.author,_=l.author.status,m="".concat(h&&h.length>0?"@":"").concat(h),u=!(n.HY&&!_||0==_||(0,g.zK)(p))||!(!n.aD&&!n.Vn),v=0==i.timePost||i.author.isInstaUser,x=!(!l.timeStatus||0==_||v),f=!(!l.timeStatus||v);return u||f||null!==l&&void 0!==l&&null!==(t=l.icon)&&void 0!==t&&t.status?(0,c.jsxs)("div",{className:"tb_post_modal_post_author",children:[(0,c.jsxs)("div",{className:"tb_post_modal_author_details",children:[u?(0,c.jsx)(y.default,{author:i.author,networkId:i.networkId,alt:i.createdAt,authorClass:"tb_post_modal_author_media tb-cTBfont-".concat(l.author.variant),inView:!0}):null,(0,c.jsxs)("div",{className:"tb_post_modal_author_deatils",children:[u?(0,c.jsx)("div",{className:"tb_post_modal_author_wrap",children:(0,c.jsxs)("a",{href:i.link&&n.yR?i.link:"#",target:"_blank",className:"tb_post_modal_author_usrname tb-cTBfont-".concat(l.author.variant),children:[p," "]})}):null,(0,c.jsx)("div",{className:"tb_post_modal_author_info",children:null!==(e=i.author)&&void 0!==e&&e.aiStatus?(0,c.jsxs)("div",{className:"tb_post_modal_author_handlename",children:[null===d||void 0===d||null===(o=d.reviewDetails)||void 0===o?void 0:o.avgRating," Based on ",null===d||void 0===d||null===(a=d.reviewDetails)||void 0===a?void 0:a.totalReviewGiven," reviews"]}):(0,c.jsxs)(c.Fragment,{children:[u?(0,c.jsx)("div",{className:"tb_post_modal_author_handlename tb-cTBfont-".concat(l.author.variant),children:m}):null,x?(0,c.jsx)("div",{className:"tb_post_modal_seprator_dot",children:(0,c.jsx)("div",{})}):null,f?(0,c.jsx)(w.default,{createdAt:i.createdAt,timeClass:"tb_post_modal_post_time tb-cTBfont-".concat(l.author.variant)}):null]})})]})]}),null!==l&&void 0!==l&&null!==(s=l.icon)&&void 0!==s&&s.status?(0,c.jsx)("a",{href:i.link&&n.yR?(0,r.C9)(i.link):"#",target:"_blank",className:"tb_post_modal_social_wrapper",children:(0,c.jsx)(b.default,{networkClass:"tb_post_modal_social_ico tb-cTBfont-".concat(l.author.variant),networkId:i.networkId,iconStyle:l.icon,isPopUp:!0})}):null]}):null}}var f=o(93152),P=o(21850),I={sharePostPopUP:f.CW};const j=(0,i.Ng)(null,I)(t=>{var e,o,{sharePostPopUP:a,item:s,wall:i,color:l}=t,{webId:d,wallId:p,ownerId:h}=i.ThemeInfo,_={color:l};return(0,c.jsx)("div",{className:"tb_post_modal_post_footer_social_",children:(0,c.jsxs)("ul",{className:"tb_post_modal_share_ico",children:[(0,c.jsx)("li",{className:"tb_post_modal_social_ico_list___",children:(0,c.jsx)("a",{href:s.share.facebook,target:"_blank",onClick:(o=s.share.facebook,t=>{window.open(o,"_target"),(0,P.hq)({type:2,action:2,wall:n.aD?p:d,feed:s.feedId,post:s.referenceId?s.referenceId:s.id,owner:h}),(0,P.x9)("Tagbox","popup_share_click","popup_share",n.aD?p:d)}),className:"tb_post_modal_share_button tb__icon tb-facebook",style:_})}),(0,c.jsx)("li",{className:"tb_post_modal_social_ico_list___",children:(0,c.jsx)("a",{href:s.share.twitter,target:"_blank",className:"tb_post_modal_share_button tb__icon tb-twitter",onClick:(t=>e=>{window.open(t,"_target"),(0,P.hq)({type:2,action:2,wall:n.aD?p:d,feed:s.feedId,post:s.referenceId?s.referenceId:s.id,owner:h}),(0,P.x9)("Tagbox","popup_share_click","popup_share",n.aD?p:d)})(s.share.twitter),style:_})}),(0,c.jsx)("li",{className:"tb_post_modal_social_ico_list___",children:(0,c.jsx)("a",{href:s.share.linkedin,target:"_blank",className:"tb_post_modal_share_button tb__icon tb-linkedin",onClick:(t=>e=>{(0,P.hq)({type:2,action:2,wall:n.aD?p:d,feed:s.feedId,post:s.referenceId?s.referenceId:s.id,owner:h}),(0,P.x9)("Tagbox","popup_share_click","popup_share",n.aD?p:d),window.open(t,"_target")})(s.share.linkedin),style:_})}),n.MH&&s.link&&(0,c.jsx)("li",{className:"tb_post_modal_social_ico_list___",onClick:()=>a(s),children:(0,c.jsx)("a",{href:"#",className:"tb_post_modal_share_button tb__icon tb-mail",style:_})}),s.link&&(0,c.jsx)("li",{className:"tb_post_modal_social_ico_list___ tb_post_link__",onClick:(e=s.link,t=>{window.open((0,r.C9)(e),"_blank")}),children:(0,c.jsx)("a",{href:s.link,target:"_blank",className:"tb_post_modal_share_button tb__icon tb-link",style:_})})]})})});var k=o(96241),S=o(55507),N=o(14250);class C extends s.PureComponent{constructor(t){super(t),this.state={scrollAmount:1,scrollDirection:1,contentHeightInner:100,contentHeightUpper:100},this.upperDivRef=s.createRef(),this.innerDivRef=s.createRef()}componentDidMount(){var t=this.upperDivRef.current,e=this.innerDivRef.current;e&&this.setState({contentHeightInner:e.clientHeight,contentHeightUpEle:t.clientHeight})}render(){var{Post:t,CardStyle:e,allSize:o,socialAction:a,ThemeStyle:s,item:i}=this.props,{contentHeightInner:l,contentHeightUpEle:r}=this.state,d=!n.HY&&o.winWidth>991?o.height-(a?100:0):null,p=String(t.content.text).length>0&&e.style.textDecoration?" tb_post_modal_text_decorate":"";47===e.widgetTheme&&(document.querySelector("html").style.overflow="auto");var h=!n.yR&&l>(d||r);return(0,c.jsx)("div",{className:"tb_post_modal_post_wrapper  ".concat(h?"tb_scroll_auto":""),style:{height:1!=t.type?d:"100%"},children:(0,c.jsx)("div",{className:"tb_post_modal_post_wrap_in",ref:this.upperDivRef,children:(0,c.jsxs)("div",{className:"tb_post_modal_post_content",children:[t.rating&&t.rating>0?(0,c.jsx)(S.default,{className:"tb__modal_rating__",rating:t.rating,networkId:t.networkId}):null,(0,c.jsx)("div",{className:"tb_post_modal_content tb-cTBfont-".concat(e.style.variant," ").concat(p),ref:this.innerDivRef,children:null!==t&&void 0!==t&&t.aiStatus?(0,c.jsx)(N.A,{aiSummary:null===t||void 0===t?void 0:t.aiSummary,type:null===s||void 0===s?void 0:s.aiSummaryStatus}):(0,c.jsx)(k.A,{networkId:null===t||void 0===t?void 0:t.networkId,Content:null===t||void 0===t?void 0:t.content,CardStyle:e})})]})})},"content_".concat(t.id))}}o(96011);var D=o(83744),T=o(18459),A=o(88740);class z extends s.Component{constructor(){super(...arguments),this.state={prdImgLoaded:!1,noImg:!1,itemDetails:{},isLoading:!0},this.openUrl=t=>{var{ProductSetting:e,wall:o}=this.props,{Button:a}=e,s=t;1769383==(null===o||void 0===o?void 0:o.ThemeInfo.ownerId)&&(s=(0,g.Ef)(s)),2==parseInt(a.newTab)?window.parent.location.href=s:window.open(s,"_blank")},this.tracking=(t,e)=>{var o,a,{item:s}=this.props;(0,P.hq)({type:1,action:2,wall:null===t||void 0===t||null===(o=t.ThemeInfo)||void 0===o?void 0:o.webId,product_id:e.id,post:s.referenceId,owner:null===t||void 0===t||null===(a=t.ThemeInfo)||void 0===a?void 0:a.ownerId,feed:s.feedId,currency:e.currencyCode,price:Number(e.discount)>0?e.discount:e.price})},this.showTooltipFunCallback=t=>{this.props.showTooltipFun(t)}}componentDidMount(){var{item:t,wall:e}=this.props,{itemDetails:o}=this.state;if(t&&t.isProduct){this.setState({isLoading:!0});var s=t.products.map(t=>{var s,i,n=t.url;if(1==(null===e||void 0===e||null===(s=e.ProductSetting)||void 0===s||null===(i=s.Button)||void 0===i?void 0:i.pdp_target))return o[t.id]={data:null,showCart:!1},this.setState({itemDetails:o}),Promise.resolve();if(n&&!String(n).includes(".html")&&""!=t.createdFrom){var l="magento"===t.createdFrom||!1;return(0,D.YS)(n,l,{productId:t.id,storeId:t.storeId}).then(s=>{if(l&&!1===s.status)o[t.id]={data:{available:!0},showCart:140717!==(null===e||void 0===e?void 0:e.ThemeInfo.ownerId)};else{var i,n=l&&(null===s||void 0===s||null===(i=s.data)||void 0===i?void 0:i.data)||(null===s||void 0===s?void 0:s.data),r=l?{available:!0}:{};o[t.id]={data:null!==n&&void 0!==n&&n.id?(0,a.A)((0,a.A)({},n),r):null,showCart:(null===n||void 0===n?void 0:n.id)&&140717!==(null===e||void 0===e?void 0:e.ThemeInfo.ownerId)}}this.setState({itemDetails:o})}).catch(e=>{o[t.id]={data:null,showCart:!1},this.setState({itemDetails:o})})}return o[t.id]={data:null,showCart:!1},this.setState({itemDetails:o}),Promise.resolve()});Promise.all(s).then(()=>{this.setState({isLoading:!1})})}}render(){var{item:t,products:e,wall:o,openCart:a,ProductSetting:s}=this.props,{itemDetails:i,isLoading:n}=this.state,{CatalogueTitle:l,Price:r,ProductTitle:d,Button:p}=s;return Object.keys(e||{}).length?(0,c.jsxs)("div",{className:"tb_pro__container",children:[(0,c.jsx)("div",{className:"tb_pro__heading",children:(0,A.Ay)(null===l||void 0===l?void 0:l.text)}),(0,c.jsx)("div",{className:"tb_pro__wrap",children:e.map((e,s)=>{var l,h,_,m,u,v,b;return(0,c.jsx)("div",{className:"tb_pro__item",children:(0,c.jsxs)("div",{className:"tb_pro__wrap_in",onMouseEnter:()=>this.showTooltipFunCallback(e.id),onMouseLeave:()=>this.showTooltipFunCallback(0),children:[(0,c.jsx)("div",{className:"tb_pro__img_wrapper",children:(0,c.jsx)(T.A,{ImageClass:"tb_pro__image",media:e.image,itemDetails:i[e.id]||null},"pro-".concat(e.id))}),null!==e&&void 0!==e&&e.title?(0,c.jsx)("div",{className:"tb_pro__title tb-cTBfont-".concat(d.variant),children:(0,A.Ay)(e.title)}):null,Number(e.price)>0||Number(e.discount)>0?(0,c.jsxs)("div",{className:"tb_pro__price_wrap",children:[(0,c.jsxs)("div",{className:"tb_pro__price tb-cTBfont-".concat(r.variant),children:[e.currency,Number(e.discount)>0?e.discount:e.price]}),Number(e.discount)>0&&e.discount!=e.price?(0,c.jsxs)("div",{className:"tb_pro__discount_price tb-cTBfont-".concat(r.variant),children:[e.currency,e.price]}):null]}):null,i&&Object.keys(i).length&&i[e.id]&&null!==(l=i[e.id])&&void 0!==l&&l.showCart?(0,c.jsx)("div",{className:"tb_pro__link",children:(0,c.jsx)("div",{onClick:null!==(h=i[e.id])&&void 0!==h&&null!==(_=h.data)&&void 0!==_&&_.available?()=>a(e.id,e,i[e.id],t):null,className:"tb_pro__btn ".concat(null!==(m=i[e.id])&&void 0!==m&&null!==(u=m.data)&&void 0!==u&&u.available?"":"tb_pro_sold"," tb-cTBfont-").concat(p.variant," ").concat(n?"tb_pro_sold":""),children:null!==(v=i[e.id])&&void 0!==v&&null!==(b=v.data)&&void 0!==b&&b.available?p.text:"Sold Out"})}):(0,c.jsx)("div",{className:"tb_pro__link",children:(0,c.jsx)("div",{onClick:()=>{this.openUrl(e.url),this.tracking(o,e)},className:"tb_pro__btn tb-cTBfont-".concat(p.variant," ").concat(n?" tb_pro_sold":""),target:o&&o.User&&"102810"!=o.User.id?"_blank":"",children:p.text})})]})},s)})})]}):null}}const M=z;function R(t){t.style.setProperty("visibility","visible","important"),t.style.setProperty("opacity","1","important"),t.style.setProperty("display","flex","important"),t.style.setProperty("transform","none","important"),t.style.setProperty("clip-path","initial","important"),t.style.setProperty("border","none","important")}class U extends s.PureComponent{render(){var{brandingNetworks:t,wallId:e,ThemeStyle:o,ThemeInfo:a}=this.props,s=n.HY||"".concat((0,r.hZ)(t,e)[0]),i=3==a.productType?"tagembed/tagembed-light-new.png":n.HY?"tagshop-light.svg":n.aD?"socialwalls-light.svg":"tagbox_logo-light.svg",{poweredBy:l}=o.language.text;return(0,c.jsxs)("a",{href:s,target:"_blank",ref:t=>{t&&(t.style.setProperty("position","absolute","important"),t.style.setProperty("left","auto","important"),t.style.setProperty("right","0","important"),t.style.setProperty("bottom","-26px","important"),t.style.setProperty("align-items","center","important"),t.style.setProperty("padding-top","4px","important"),t.style.setProperty("display","flex","important"),t.style.setProperty("width","auto","important"),t.style.setProperty("text-decoration","none","important"),t.style.setProperty("direction","ltr","important"),R(t))},children:[(0,c.jsxs)("div",{ref:t=>{t&&(t.style.setProperty("font-size","13px","important"),t.style.setProperty("color","#fff","important"),t.style.setProperty("margin-right","5px","important"),t.style.setProperty("width","100%","important"),t.style.setProperty("height","auto","important"),t.style.setProperty("font-family","inherit","important"),R(t))},children:[l||"Powered by"," "]}),(0,c.jsx)("div",{ref:t=>{t&&(t.style.setProperty("background-image","url(".concat(d.th,"media/logos/").concat(i,")"),"important"),t.style.setProperty("background-size","contain","important"),t.style.setProperty("background-position","left center","important"),t.style.setProperty("background-repeat","no-repeat","important"),t.style.setProperty("height","22px","important"),t.style.setProperty("min-height","22px","important"),t.style.setProperty("width","90px","important"),t.style.setProperty("min-width","90px","important"),R(t))}})]})}}var E=o(54199),B=o(92687);class H extends s.PureComponent{constructor(){super(...arguments),this.state={isEnable:0,eventData:{},shareText:"SHARE",viewOnText:"View on",currentIndex:null,completeData:{},url:null,imgData:[],type:"",parentID:"",isRepeatingPost:!1,allSize:{winHeight:null,winWidth:null,height:null,width:null,paddingBottom:null},addtoCartPopup:!1,productImg:"",prodImgIdx:0},this.closeButtonRef=(0,s.createRef)(),this.keyboardEvent=t=>{var e=this.state.currentIndex;[39,40].includes(t.keyCode)?(e+=1,this.featuredPopSliderChangeIndex(e)(t)):[37,38].includes(t.keyCode)?(e-=1,this.featuredPopSliderChangeIndex(e)(t)):27==t.keyCode&&this.closeWidgetPopUP()},this.onCloseModal=()=>{var t=document.querySelector("#tb_post_modal_modal-".concat(this.state.parentID));t&&t.classList.contains("tb_post_modal_show")&&(t.classList.remove("tb_post_modal_show"),this.setState({isEnable:0,currentIndex:null,type:"",addtoCartPopup:!1,selectedProdDetails:null}),this.closeButtonRef.current&&this.closeButtonRef.current.focus(),this.props.closePopUP());var e=document.getElementsByTagName("html");e&&e[0]&&(e[0].style.overflow="")},this.closeWidgetPopUP=t=>this.onCloseModal(),this.getWidgetPopUPEvent=t=>{void 0!==t&&""!=t&&t.card&&("post"==t.type?this.setState({url:"",isEnable:1,eventData:t,currentIndex:t.index,completeData:t.idArray,viewOnText:t.viewOnText,shareText:t.shareText,imgData:t.imgData,type:t.type,showTooltip:0}):"submit-pic"==t.type&&this.setState({isEnable:1,type:t.type,windowParent:t}))},this.featuredPopSliderChangeIndex=t=>e=>{var o,{eventData:a,isRepeatingPost:s}=this.state;a.idArray.length-1!=t&&t!==a.idArray.length||s?(o=t===a.idArray.length-1||t===a.idArray.length?0:-1===t?a.idArray.length-1:t,this.setState({currentIndex:o,isRepeatingPost:!1},()=>this.onPopUpTrack())):this.loadMore()},this.onPopUpTrack=()=>{try{var{wall:t}=this.props,{currentIndex:e,completeData:o,eventData:s}=this.state,i=null,l={feed:(i=-1===e?o[s.idArray.length-1]:o[e]).feedId,post:i.referenceId?i.referenceId:i.id},r={action:2,wall:t.ThemeInfo.webId,feed:i.feedId,post:i.referenceId?i.referenceId:i.id,type:3,owner:t.ThemeInfo.ownerId};(0,P.hq)(n.Qy?r:(0,a.A)((0,a.A)({action:2,wall:t.ThemeInfo.webId},l),{},{owner:t.ThemeInfo.ownerId,type:3}))}catch(d){console.log("Error in PopUp Tracking",d)}},this.loadMore=()=>{var t,{wall:e,postData:o}=this.props,{eventData:a,currentIndex:s}=this.state,i=!o.hasMoreData||!Object.keys(o.hasMoreData).length||(!o.hasMoreData[0]||0!=o.hasMoreData[0].hasMoreData)&&(!o.hasMoreData[o.appendData.networkID]||o.hasMoreData[o.appendData.networkID].hasMoreData);if(a.idArray.length-1==s&&this.setState({isRepeatingPost:!0}),i&&1===(null===e||void 0===e||null===(t=e.ThemeStyle)||void 0===t?void 0:t.loadMoreStatus)){var l=e.ThemeStyle.totalPosts,r=Math.floor(Date.now()/1e3);this.props.nextData(n.aD?e.ThemeInfo.wallId:e.ThemeInfo.webId,r,l,o.appendData.networkID,o.appendData.after,o.appendData.heightEvent)}else this.setState({currentIndex:0})},this.popUpCloseClckOnWindow=()=>{document.addEventListener("click",t=>{t.target.matches("#tb_post_modal_modal-".concat(this.state.parentID))&&this.onCloseModal()})},this.allSize=t=>{this.setState({allSize:{winHeight:window.innerHeight,winWidth:window.innerWidth,height:t.height,width:t.width,paddingBottom:100*t.height/t.width}})},this.onClickOpenCart=(t,e,o,s)=>{var{ThemeInfo:i}=this.props.wall,l={type:1,action:2,wall:n.aD?i.wallId:i.webId,feed:s.feedId,post:s.referenceId?s.referenceId:s.id,owner:i.ownerId,product_id:e.id,productList:[],currency:e.currency,currencyCode:e.currencyCode,price:Number(e.discount)>0?Number(e.discount):Number(e.price)};this.setState({addtoCartPopup:!0,selectedProdDetails:o,tagProdDetail:(0,a.A)((0,a.A)({},e),{},{trackingData:l}),pId:t,productImg:e.image})},this.closeCart=t=>{this.setState({addtoCartPopup:!1,selectedProdDetails:null},()=>{var t=document.querySelector("#tb_post_modal_modal-".concat(this.state.parentID));t&&t.classList.add("tb_post_modal_show")})},this.onUpdateProdImgIdx=t=>{this.setState({prodImgIdx:t})},this.showTooltipFun=t=>{this.setState({showTooltip:t})}}componentDidMount(){var t,{data:e}=this.props,o=document.querySelector(".tb_app_container"),a=g.wV?g.wV:null===o||void 0===o||null===(t=o.parentNode)||void 0===t?void 0:t.id;this.setState({parentID:a}),this.getWidgetPopUPEvent(e),setTimeout(()=>{var t=document.querySelector("#tb_post_modal_modal-".concat(this.state.parentID));t&&t.classList.add("tb_post_modal_show")});var s=document.getElementsByTagName("html");s&&s[0]&&(s[0].style.overflow="hidden"),this.popUpCloseClckOnWindow(),window.addEventListener&&window.addEventListener("keydown",this.keyboardEvent)}componentWillUnmount(){window.removeEventListener("keydown",this.keyboardEvent)}componentDidUpdate(){var t=this,e=0;if(window.editor){var o=document.getElementById("tb_post_modal_modal-taggbox_main"),a=document.querySelector(".tb_post_modal_conetent"),s=document.querySelector(".tb_post_modal_nxt_btn"),i=document.querySelector(".tb_post_modal_prev_btn");o&&(a&&(a.onclick=()=>e=1),s&&(s.onclick=()=>e=1),i&&(i.onclick=()=>e=1),o.onclick=()=>{0==e&&t.onCloseModal(),e=0})}}UNSAFE_componentWillReceiveProps(t){var{postData:e}=t,{completeData:o,eventData:a}=this.state;if(o.length!=e.postData.length){var s=e.postData.map(t=>e.completeDataObject[t]).filter(t=>!String(t.id).includes("free_add_"));a.idArray=s,this.setState({completeData:s,eventData:a},()=>{var{currentIndex:t}=this.state;this.setState({currentIndex:t+1},()=>this.onPopUpTrack())})}}render(){var t,e,o,a,s,i,l,{wall:r,reportMediaPopUp:d,brandingNetworks:p}=this.props,{ThemeInfo:h,ThemeStyle:_,CardStyle:m,Reviews:u}=r,{currentIndex:b,completeData:g,eventData:y,parentID:w,allSize:f,addtoCartPopup:P,productImg:I,selectedProdDetails:k,tagProdDetail:S,prodImgIdx:N,showTooltip:D}=this.state,T=null;T=-1===b?g[y.idArray.length-1]:g[b];var A=1==(null===_||void 0===_||null===(t=_.modal)||void 0===t?void 0:t.slide),z=n.HY?null===m||void 0===m||null===(o=m.content)||void 0===o?void 0:o.status:1==(null===m||void 0===m||null===(e=m.content)||void 0===e?void 0:e.modalContentStatus)?0:1,R=!!(T&&w&&Object.keys(T).length&&1==z&&1!=T.type&&4!=T.type&&5!=T.type),H=!!(T&&w&&Object.keys(T).length&&T.isProduct),L=!!(null!==m&&void 0!==m&&m.actionStatus&&n.MH||n.MH),F=n.MH&&H?" tb_post_modal_ts_p":"",W=n.MH?" tb_post_modal_ts_":"",O="".concat(W).concat(F),q={maxHeight:H&&n.MH&&f.winWidth>991?f.height-(L?45:0):null};return T&&w&&Object.keys(T).length?P?"magento"==(null===S||void 0===S||null===(a=S.UgcProduct)||void 0===a?void 0:a.created_from)?(0,c.jsx)(B.A,{productImg:I,addtoCartPopup:P,productDetails:k,tagshopProductDeatil:S,closeCart:this.closeCart,onAddToCart:()=>this.setState({continueShopping:!0}),onSelectedVariant:t=>this.setState({selectedVariant:t}),wall:r,closePopUp:this.props.closePopUP}):(0,c.jsx)(E.A,{productImg:I,addtoCartPopup:P,productDetails:k,tagshopProductDeatil:S,closeCart:this.closeCart,onAddToCart:()=>this.setState({continueShopping:!0}),onSelectedVariant:t=>this.setState({selectedVariant:t}),wall:r,closePopUp:this.props.closePopUP}):(0,c.jsx)("div",{role:"dialog","aria-modal":"true",className:"tb_post_modal_modal ".concat(n.yR?"":"tb_post_wall_modal"),id:"tb_post_modal_modal-".concat(w),children:(0,c.jsx)("div",{className:"".concat(1767696===(null===h||void 0===h?void 0:h.ownerId)?"custom_modal_dialog":""," tb_post_modal_modal_dialog").concat(R&&!H?" tb_only_media_modal":""," ").concat(L&&n.yR?" tb_post_modal_modal_full":"").concat(O),children:(0,c.jsxs)("div",{className:"tb_post_modal_conetent",children:[n.yR?(0,c.jsxs)("div",{className:"tb_post_modal_modal_head",children:[(0,c.jsxs)("div",{className:"tb_post_modal_modal_header",children:[(0,c.jsx)("div",{className:"tb_post_modal_post_link_small",children:(0,c.jsx)("div",{className:"tb_post_modal_post_address",children:T.link?(0,c.jsxs)("div",{className:"tb_post_modal_view_link",onClick:t=>window.open(T.link,"_blank"),children:[(0,c.jsxs)("div",{className:"tb_post_modal_view",children:[n.Vn&&(null===(s=_.language)||void 0===s?void 0:s.text.viewOn)||""," ",T.network.name]}),(0,c.jsx)("div",{className:"tb_post_view_ico tb__icon tb-arrow-right-alt",children:" "})]}):null})}),n.yR?(0,c.jsx)("div",{className:"tb_post_modal_close_wrap",children:(0,c.jsx)("button",{type:"button",className:"tb_post_modal_close_btn","aria-label":"Close",ref:this.closeButtonRef,tabIndex:0,onClick:this.closeWidgetPopUP,onKeyDown:t=>("Enter"===t.key||" "===t.key)&&this.closeWidgetPopUP(),children:(0,c.jsx)("span",{className:"tb_post_close_ico tb__icon tb-close-alt",children:" "})})}):null]}),n.yR&&A?(0,c.jsxs)("div",{className:"tb_post_modal_navigation tb_post_modal_nav_content ".concat(1===T.type?"tb_post_modal_text_nav__":""),children:[(0,c.jsx)("button",{type:"button",className:"tb_post_modal_nav tb_post_modal_prev_btn",onClick:this.featuredPopSliderChangeIndex(b-1),children:(0,c.jsx)("span",{className:"tb_post_nav tb__icon tb-arrow-left-alt",children:" "})}),(0,c.jsx)("button",{type:"button",className:"tb_post_modal_nav tb_post_modal_nxt_btn",onClick:this.featuredPopSliderChangeIndex(b+1),children:(0,c.jsx)("span",{className:"tb_post_nav tb__icon tb-arrow-right-alt",children:" "})})]}):null]}):null,(0,c.jsx)("div",{className:"tb_post_modal_body_container",children:(0,c.jsxs)("div",{className:"tb_post_modal_modal_body",children:[1!=T.type?(0,c.jsxs)("div",{className:"tb_post_modal_details_left",children:[n.yR&&A?(0,c.jsxs)("div",{className:"tb_post_modal_navigation tb_post_modal_nav_img",children:[(0,c.jsx)("button",{type:"button",className:"tb_post_modal_nav tb_post_modal_prev_btn",onClick:this.featuredPopSliderChangeIndex(b-1),children:(0,c.jsx)("span",{className:"tb_post_nav tb__icon tb-arrow-left-alt",children:" "})}),(0,c.jsx)("button",{type:"button",className:"tb_post_modal_nav tb_post_modal_nxt_btn",onClick:this.featuredPopSliderChangeIndex(b+1),children:(0,c.jsx)("span",{className:"tb_post_nav tb__icon tb-arrow-right-alt",children:" "})})]}):null,(0,c.jsx)(v,{allSizeCallback:this.allSize,hideContent:R&&!H,Post:T,CardStyle:m,ThemeStyle:_,ThemeInfo:h,onUpdateProdImgIdx:this.onUpdateProdImgIdx,showTooltip:D})]}):null,(0,c.jsx)("div",{className:"tb_post_modal_details_right".concat(1===T.type?" tb_post_modal_text__":""),children:(0,c.jsxs)("div",{className:"tb_post_modal_content_wrap",children:[(0,c.jsx)("div",{className:"tb_post_modal_content_in",style:q,children:(0,c.jsxs)("div",{className:"tb_post_modal_post_detail_wrap",children:[H?(0,c.jsx)(M,{item:T,wall:r,ProductSetting:r.ProductSetting,products:null!==(i=T.mediaList)&&void 0!==i&&i.length?null===(l=T.mediaList[N])||void 0===l?void 0:l.product:T.products,openCart:this.onClickOpenCart,showTooltipFun:this.showTooltipFun},"product_".concat(T.id)):null,(0,c.jsx)(x,{Post:T,ThemeStyle:_,CardStyle:m,Reviews:u},"author-".concat(T.id)),R?null:(0,c.jsx)(C,{CardStyle:m,ThemeStyle:_,Post:T,allSize:f,socialAction:L})]})}),n.yR&&L?(0,c.jsxs)("div",{className:"tb_post_modal_post_footer",children:[n.MH||n.aD||n.Vn?(0,c.jsx)("div",{className:"tb_post_modal_post_footer_report",children:(0,c.jsx)("div",{className:"tb_post_modal_post_report_media_btn_wrap__",children:(0,c.jsxs)("button",{type:"button",title:"Report This Post",className:"tb_post_modal_post_report_media_btn__",onClick:t=>d(T),children:["Report ",(0,c.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"12px",height:"12px",viewBox:"0 0 512 512",children:(0,c.jsx)("path",{d:"M256 512A256 256 0 1 0 256 0a256 256 0 1 0 0 512zM216 336l24 0 0-64-24 0c-13.3 0-24-10.7-24-24s10.7-24 24-24l48 0c13.3 0 24 10.7 24 24l0 88 8 0c13.3 0 24 10.7 24 24s-10.7 24-24 24l-80 0c-13.3 0-24-10.7-24-24s10.7-24 24-24zm40-208a32 32 0 1 1 0 64 32 32 0 1 1 0-64z"})})]})})}):null,(0,c.jsx)(j,{item:T,wall:r})]}):null]})}),null!==h&&void 0!==h&&h.branding?(0,c.jsx)(U,{brandingNetworks:p,ThemeStyle:_,ThemeInfo:h,wallId:h.webId,themeID:h.id}):null]})})]})})}):null}}const L=(0,i.Ng)(t=>({loaderData:t.loaderData}),t=>({closePopUP:e=>t((0,f.ng)(e)),reportMediaPopUp:e=>t((0,f.lM)(e)),nextData:(e,o,a,s,i,n,l)=>t((0,P.wF)(e,o,a,s,i,n,l))}))(H)},55507:(t,e,o)=>{"use strict";o.r(e),o.d(e,{default:()=>r});var a=o(9950),s=o(44414),i={3:{className:"tb-default-star",color:"#1b74e4"},19:{className:"tb-yelp-star",color:"#e00707"},23:{className:"tb-default-star",color:"#ff385c"},28:{className:"tb-default-star",color:"#F8B90C"},29:{className:"tb-default-star",color:"#613983"},33:{className:"tb-trustpilot",color:"#000"},35:{className:"tb-star-fill",color:"#34E0A1"},default:{className:"tb-default-star",color:"#F8B90C"}},n=(0,a.memo)(t=>{var{networkId:e,index:o,rating:a}=t,{className:n,color:l}=i[e]||i.default,r=o<a;return(0,s.jsx)("div",{className:"tb_rating_ico__ tb__icon ".concat(n),style:{color:r?l:""},"data-network":e,role:"status","aria-label":"Ratings","data-filled":r?"1":"0",children:(0,s.jsx)("div",{})},o)}),l=t=>{var{rating:e,networkId:o,className:a}=t;return(0,s.jsx)("div",{className:"tb_rating_inside ".concat(a),"aria-hidden":!0,children:e?Array.from({length:5},(t,a)=>(0,s.jsx)(n,{index:a,rating:e,networkId:o},a)):null})};const r=(0,a.memo)(l)},78167:(t,e,o)=>{"use strict";o.r(e),o.d(e,{default:()=>n});var a=o(9950),s=o(91697),i=o(44414);class n extends a.PureComponent{constructor(t){super(t),this.state={errorPic:!1}}render(){var{author:t,authorClass:e,networkId:o,size:a,inView:n,alt:l}=this.props,{errorPic:r}=this.state;return(0,i.jsx)("div",{className:e,style:{overflow:4!=o||r?"":"visible"},children:n?(0,i.jsx)("img",{className:"".concat(e,"__"),src:t.picture,"aria-label":"author",alt:"".concat(t.name," ").concat(l),width:a||44,height:a||44,onError:e=>{this.setState({errorPic:!0});var a=(0,s.Yo)(o),i="#ffffff"==a?"000":a.replace("#","");e.target.src=t.errorPic?t.errorPic:"https://ui-avatars.com/api/?name=".concat(t.name.replace(/\s/g,""),"&background=").concat(i,"&color=fff&length=1")}}):null},Math.random())}}},96241:(t,e,o)=>{"use strict";o.d(e,{A:()=>b});var a=o(89379),s=o(9950),i=o(88740),n=o(42083),l=o(70804),r=o(44414),d=function(t){return"string"===typeof t},c=(t,e,o)=>{if(!d(t)&&!s.isValidElement(t))return t;d(e)&&(e=function(t){var e=/[\\^$.*+?()[\]{}|]/g,o=RegExp(e.source);return t&&o.test(t)?t.replace(e,"\\$&"):t}(e)),e instanceof RegExp||(e=new RegExp(e,"g"));for(var a,i=[],n=0,l=[];null!==(a=e.exec(t));)l.push(a);if(e.lastIndex=0,0===l.length)return t;l.forEach((e,a)=>{var s=t.slice(n,e.index);s&&i.push(s);var l=o(...e,a,n);i.push(l),n=e.index+e[0].length});var r=t.slice(n);return r&&i.push(r),function(t){var e=[];return t.forEach(function(t){Array.isArray(t)?e=e.concat(t):e.push(t)}),e}(i)},p=t=>{var{Content:e,children:o}=t;return(0,r.jsxs)(r.Fragment,{children:[e.title?(0,r.jsx)("div",{className:"tb_bold_txt__",children:(0,i.Ay)(e.title)}):null,o]})},h=/(https?:\/\/[^\s]+)/g,_=t=>(0,r.jsx)(n.default,{children:(0,l.Ay)(t)}),m=(t,e)=>{var o;return"string"===typeof t?c(t,/#(\w+)/g,(t,o)=>(0,r.jsxs)("span",{className:"tb_highlight",style:e,children:["#",t]},"tag-".concat(t,"-").concat(o))):Array.isArray(t)?t.map((t,o)=>m(t,e)):s.isValidElement(t)&&null!==(o=t.props)&&void 0!==o&&o.children?s.cloneElement(t,(0,a.A)((0,a.A)({},t.props),{},{children:m(t.props.children,e)})):t},u=t=>t&&"string"===typeof t?t=(t=t.replace(/<([^|>]+)\|([^>]+)>/g,'<a href="$1" target="_blank" rel="noopener noreferrer">$2</a>')).replace(/<((https?:\/\/)[^>|]+)>/g,'<a href="$1" target="_blank" rel="noopener noreferrer">$1</a>'):t,v=t=>{var e,o,a,s,{Content:n,CardStyle:l,networkId:d}=t,v={color:null===l||void 0===l||null===(e=l.hashtag)||void 0===e?void 0:e.color,backgroundColor:1===(null===l||void 0===l||null===(o=l.hashtag)||void 0===o?void 0:o.backgroundStatus)?null===l||void 0===l||null===(a=l.hashtag)||void 0===a?void 0:a.background:null},b=(null===n||void 0===n?void 0:n.feedName)||null;if(20===d&&window.slackdown){var g,y=null===n||void 0===n?void 0:n.text;try{g=_(window.slackdown.parse(y))}catch(I){console.error("Slackdown parsing error:",I);var w=u(y);g=_(w)}return(0,r.jsx)(p,{Content:n,children:g})}var x,f,P=(0,i.Ay)(u(20===d?null===n||void 0===n?void 0:n.text:(t=>String(t).replace(/\\n\\n/g,"<br /><br />").replace(/\\n/g,"<br />"))(null===n||void 0===n?void 0:n.text)));(P=c(P,h,(t,e)=>(0,r.jsx)("a",{href:t,target:"_blank",rel:"noopener noreferrer",style:{color:"#0645AD"},children:t},"url-".concat(e))),null!==l&&void 0!==l&&null!==(s=l.hashtag)&&void 0!==s&&s.colorStatus)&&(1===(null===l||void 0===l||null===(x=l.hashtag)||void 0===x?void 0:x.allHashtag)?P=m(P,v):1===(null===l||void 0===l||null===(f=l.hashtag)||void 0===f?void 0:f.feedHashtag)&&b&&(P=c(P,b,(t,e)=>(0,r.jsx)("span",{className:"tb_highlight",style:v,children:t},"feed-".concat(e,"-").concat((t=>Math.floor(Math.random()*(t.length?t.length:1)))(e))))));return(0,r.jsx)(p,{Content:n,children:P})};const b=(0,s.memo)(v)}}]);