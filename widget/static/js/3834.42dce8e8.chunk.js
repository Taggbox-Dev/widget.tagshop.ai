"use strict";(self.webpackChunkembed_widget=self.webpackChunkembed_widget||[]).push([[3834,368,5790,2842,9239],{34873:(t,e,o)=>{o.d(e,{Z:()=>l});var a=o(47313),s=o(98501),i=o(46335),n=o(46417);class l extends a.PureComponent{constructor(t){super(t),this.onLoad=t=>1==t.target.getAttribute("data-load")&&this.setState({imgUrl:t.target.src,loadError:!1}),this.state={loadError:!1,paddingBottom:100,imgUrl:this.props.media}}UNSAFE_componentWillReceiveProps(t){const{itemDetails:e}=t,{loadError:o}=this.state;o&&t!=this.props&&e&&Object.keys(e).length&&e.showCart&&this.setState({imgUrl:e.data.featured_image,loadError:!1})}render(){const{ImageClass:t}=this.props,{imgUrl:e,paddingBottom:o}=this.state,a={paddingBottom:"".concat(o,"%")};return(0,n.jsx)("div",{className:"".concat(t,"_wrap"),style:a,children:(0,n.jsx)("img",{className:t,role:"img",src:e,height:300,width:300,onLoad:this.onLoad,onError:t=>{this.setState({loadError:!0}),t.target.src=s.XW},alt:(0,i.P)(e)})})}}},3333:(t,e,o)=>{o.r(e),o.d(e,{default:()=>F});var a=o(47313),s=o(65537),i=o(35179),n=o(46335),l=o(98501),r=o(46417);const d=t=>{let{size:e,themeId:o}=t;const a=t=>o==t&&1==e;return(0,r.jsx)("div",{ref:t=>{t&&(t.style.setProperty("opacity","0.8","important"),t.style.setProperty("display","flex","important"),t.style.setProperty("width","".concat(2==e?"110px":"75px"),"important"),t.style.setProperty("height","".concat(2==e?"25px":"18px"),"important"),t.style.setProperty("max-width","".concat(2==e?"110px":"75px"),"important"),t.style.setProperty("max-height","".concat(2==e?"25px":"18px"),"important"),t.style.setProperty("top","".concat(a(55)||a(62)||a(61)?"auto":"14px"),"important"),t.style.setProperty("left","".concat(a(62)||a(61)?"auto":"14px"),"important"),t.style.setProperty("right","".concat(a(55)||a(62)||a(61)?"14px":"auto"),"important"),t.style.setProperty("bottom","".concat(a(55)||a(62)||a(61)?"14px":"auto"),"important"),t.style.setProperty("margin","0 auto","important"),t.style.setProperty("position","absolute","important"),t.style.setProperty("visibility","visible","important"),t.style.setProperty("z-index","3","important"),t.style.setProperty("background-image","url(".concat(l.do,"/media/logo/tagshop-light.svg)"),"important"),t.style.setProperty("background-repeat","no-repeat","important"),t.style.setProperty("background-size","contain","important"),t.style.setProperty("clip-path","initial","important"))},children:(0,r.jsx)("div",{children:" "})})},c=a.lazy((()=>Promise.all([o.e(6119),o.e(510),o.e(1774),o.e(472)]).then(o.bind(o,70472)))),p=a.lazy((()=>Promise.all([o.e(6119),o.e(1528)]).then(o.bind(o,91528)))),h=a.lazy((()=>Promise.all([o.e(510),o.e(6696)]).then(o.bind(o,36696)))),_=a.lazy((()=>Promise.all([o.e(3997),o.e(5063)]).then(o.bind(o,42870))));class m extends a.PureComponent{constructor(t){super(t),this.handleResize=()=>{this.setState({winSize:{width:window.innerWidth,height:window.innerHeight}},(()=>{const{mediaSize:t}=this.state;this.setSize(t.height,t.width)}))},this.setSize=(t,e)=>{const{hideContent:o}=this.props,{winSize:a}=this.state,s=Math.min((a.width-535)/e,(a.height-(90+(o?69:0)))/t),i={height:t*s,width:e*s,paddingBottom:100*t/e},n={winHeight:a.height,winWidth:a.width,height:i.height,width:i.width,paddingBottom:i.paddingBottom};this.props.allSizeCallback(n),this.setState({mediaSize:{height:i.height,width:i.width,paddingBottom:i.paddingBottom}})},this.onMediaLoad=async t=>{const{height:e,width:o}=t.media;if(e&&o)this.setSize(e,o);else{const e=document.querySelector(".tb_media-".concat(t.id)),o=e?parseInt(e.getAttribute("data-height"),10):0,s=e?parseInt(e.getAttribute("data-width"),10):0;if(s>0&&o>0)this.setSize(o,s);else try{const{width:e,height:o}=await(0,n.GF)(t.media.image.small);this._isMounted&&this.setSize(o,e)}catch(a){this._isMounted&&this.setSize(1e3,1e3)}}},this.state={winSize:{width:window.innerWidth,height:window.innerHeight},mediaSize:{height:0,width:0,paddingBottom:0}}}static getDerivedStateFromProps(t,e){return t.Post!==e.Post?{...e,Post:t.Post}:null}componentDidMount(){const{Post:t}=this.props;window.addEventListener("resize",this.handleResize),this._isMounted=!0,this.onMediaLoad(t)}componentDidUpdate(t){this.props.Post!==t.Post&&this.onMediaLoad(this.props.Post)}componentWillUnmount(){this._isMounted=!1,window.removeEventListener("resize",this.handleResize)}render(){const{Post:t,ThemeInfo:e,onUpdateProdImgIdx:o,showTooltip:s}=this.props,{winSize:i,mediaSize:n}=this.state,l={maxHeight:i.width>991?n.height:null,maxWidth:i.width>991?n.width:null,aspectRatio:"".concat(n.width," / ").concat(n.height),flexBasis:i.width>991?n.height:null},m={paddingBottom:"".concat(n.paddingBottom,"%"),width:i.width>991?n.width:null};return(0,r.jsxs)("div",{className:"tb_post_modal_media_holder",style:l,children:[null!==e&&void 0!==e&&e.branding?(0,r.jsx)(d,{size:2,themeId:e.id}):null,(0,r.jsx)("div",{className:"tb_post_modal_media",style:m,children:(0,r.jsx)("div",{className:"tb_post_modal_media_",children:t.mediaList&&t.mediaList.length>0?(0,r.jsx)(a.Suspense,{fallback:(0,r.jsx)(r.Fragment,{}),children:(0,r.jsx)(c,{winSize:i,Post:t,mediaSize:n,ThemeInfo:e,onUpdateProdImgIdx:o,showTooltip:s})}):[2,4].includes(t.type)?(0,r.jsx)(a.Suspense,{fallback:(0,r.jsx)(r.Fragment,{}),children:(0,r.jsx)(p,{winSize:i,Post:t,Item:!1,Products:t.products,mediaSize:n,ThemeInfo:e,opacity:1,showTooltip:s,hotspot:!0})}):[3,5].includes(t.type)?t.isAudio?(0,r.jsx)(a.Suspense,{fallback:(0,r.jsx)(r.Fragment,{}),children:(0,r.jsx)(_,{Post:t})}):(0,r.jsx)(a.Suspense,{fallback:(0,r.jsx)(r.Fragment,{}),children:(0,r.jsx)(h,{Post:t,mediaSize:n},t.id)}):null})})]})}}var u=o(72842),b=o(17739),g=o(89239),v=o(55790);class w extends a.PureComponent{constructor(t){super(t),this.state={picture:t.Post.author.picture}}UNSAFE_componentWillReceiveProps(t){const{Post:e}=t;this.setState({picture:e.author.picture})}render(){const{Post:t,CardStyle:e}=this.props,{name:o,username:a}=t.author,s=e.author.status,l="".concat(a&&a.length>0?"@":"").concat(a),d=!(i.ig&&!s||0==s||(0,b.sZ)(o))||!(!i.bX&&!i.aL),c=0==t.timePost||t.author.isInstaUser,p=i.ig?!(!e.timeStatus||0==s||c):0!=s&&!c,h=i.ig?!(!e.timeStatus||c):!c||!(!i.bX&&!i.aL);return(0,r.jsxs)("div",{className:"tb_post_modal_post_author",children:[(0,r.jsxs)("div",{className:"tb_post_modal_author_details",children:[d?(0,r.jsx)(g.default,{author:t.author,networkId:t.networkId,authorClass:"tb_post_modal_author_media tb-cTBfont-".concat(e.author.variant),inView:!0}):null,(0,r.jsxs)("div",{className:"tb_post_modal_author_deatils",children:[d?(0,r.jsx)("div",{className:"tb_post_modal_author_wrap",children:(0,r.jsxs)("div",{className:"tb_post_modal_author_usrname tb-cTBfont-".concat(e.author.variant),onClick:e=>t.link&&i.P2?window.open(t.link):null,children:[o," "]})}):null,(0,r.jsxs)("div",{className:"tb_post_modal_author_info",children:[d?(0,r.jsx)("div",{className:"tb_post_modal_author_handlename tb-cTBfont-".concat(e.author.variant),children:l}):null,p?(0,r.jsx)("div",{className:"tb_post_modal_seprator_dot",children:(0,r.jsx)("div",{})}):null,h?(0,r.jsx)(v.default,{createdAt:t.createdAt,timeClass:"tb_post_modal_post_time tb-cTBfont-".concat(e.author.variant)}):null]})]})]}),(0,r.jsx)("div",{className:"tb_post_modal_social_wrapper",onClick:e=>t.link&&i.P2?window.open((0,n.hd)(t.link),"_blank"):null,children:(0,r.jsx)(u.default,{networkClass:"tb_post_modal_social_ico tb-cTBfont-".concat(e.author.variant),networkId:t.networkId,iconStyle:e.icon,isPopUp:!0})})]})}}var y=o(3671),x=o(61893);const P={sharePostPopUP:y.K8},f=(0,s.$j)(null,P)((t=>{let{sharePostPopUP:e,item:o,wall:s,color:l}=t;const{webId:d,wallId:c,ownerId:p}=s.ThemeInfo;(0,a.useEffect)((()=>{window.twttr&&window.twttr.ready((t=>{window.twttr.events.bind("tweet",h)}))}),[]);const h=t=>{t&&((0,x.S5)({type:2,action:2,wall:i.ig?d:c,feed:o.feedId,post:o.referenceId?o.referenceId:o.id,owner:p}),(0,x.WI)("Tagbox","popup_share_click","popup_share",i.ig?d:c)),window.open(o.share.twitter,"_target")},_={color:l};return(0,r.jsx)("div",{className:"tb_post_modal_post_footer_social_",children:(0,r.jsxs)("div",{className:"tb_post_modal_share_ico",children:[(0,r.jsx)("div",{className:"tb_post_modal_social_ico_list___",children:(0,r.jsx)("div",{onClick:(u=o.share.facebook,t=>{window.open(u,"_target"),(0,x.S5)({type:2,action:2,wall:i.ig?d:c,feed:o.feedId,post:o.referenceId?o.referenceId:o.id,owner:p}),(0,x.WI)("Tagbox","popup_share_click","popup_share",i.ig?d:c)}),children:(0,r.jsx)("div",{className:"tb_post_modal_share_button tb__icon tb-facebook",style:_,children:(0,r.jsx)("div",{})})})}),(0,r.jsx)("div",{className:"tb_post_modal_social_ico_list___",children:(0,r.jsx)("div",{className:"tb_post_modal_share_button tb__icon tb-twitter",onClick:h,style:_,children:(0,r.jsx)("div",{})})}),(0,r.jsx)("div",{className:"tb_post_modal_social_ico_list___",children:(0,r.jsx)("div",{className:"tb_post_modal_share_button tb__icon tb-linkedin",onClick:(t=>e=>{(0,x.S5)({type:2,action:2,wall:i.ig?d:c,feed:o.feedId,post:o.referenceId?o.referenceId:o.id,owner:p}),(0,x.WI)("Tagbox","popup_share_click","popup_share",i.ig?d:c),window.open(t,"_target")})(o.share.linkedin),style:_,children:(0,r.jsx)("div",{})})}),i.Jx&&o.link&&(0,r.jsx)("div",{className:"tb_post_modal_social_ico_list___",onClick:()=>e(o),children:(0,r.jsx)("div",{className:"tb_post_modal_share_button tb__icon tb-mail",style:_})}),o.link&&(0,r.jsx)("div",{className:"tb_post_modal_social_ico_list___ tb_post_link__",onClick:(m=o.link,t=>{window.open((0,n.hd)(m),"_blank")}),children:(0,r.jsx)("div",{className:"tb_post_modal_share_button tb__icon tb-link",style:_})})]})});var m,u}));var S=o(63346);const j=t=>{let{network:e}=t;const{className:o,color:a,fontSize:s}={3:{className:"tb_rating_ico__ tb__icon tb-default-star",color:"#1b74e4",fontSize:30},19:{className:"tb_rating_ico__ tb__icon tb-yelp-star",color:"#e00707",fontSize:30},23:{className:"tb_rating_ico__ tb__icon tb-default-star",color:"#ff385c",fontSize:30},28:{className:"tb_rating_ico__ tb__icon tb-default-star",color:"#F8B90C",fontSize:30},29:{className:"tb_rating_ico__ tb__icon tb-default-star",color:"#613983",fontSize:30},33:{className:"tb_rating_ico__ tb__icon tb-trustpilot",color:"#000",fontSize:30},35:{className:"tb_rating_ico__ tb__icon tb-star-fill",color:"#34E0A1",fontSize:30}}[e.id]||{className:"tb_rating_ico__ tb__icon tb-default-star",color:"#F8B90C",fontSize:30};return(0,r.jsx)("div",{className:o,style:{color:a,fontSize:s},"tb-network":e.id,children:(0,r.jsx)("div",{})})};class k extends a.PureComponent{render(){const{rating:t,network:e}=this.props;return(0,r.jsx)("div",{className:"tb__modal_rating__",children:t?[...Array(t)].map(((t,o)=>(0,r.jsx)(j,{network:e},o))):null})}}const I=a.lazy((()=>o.e(4545).then(o.bind(o,94545))));class N extends a.PureComponent{constructor(t){super(t),this.state={scrollAmount:1,scrollDirection:1,contentHeightInner:100,contentHeightUpper:100},this.upperDivRef=a.createRef(),this.innerDivRef=a.createRef()}componentDidMount(){const t=this.upperDivRef.current,e=this.innerDivRef.current;e&&this.setState({contentHeightInner:e.clientHeight,contentHeightUpEle:t.clientHeight})}render(){const{contentTitle:t,item:e,CardStyle:o,allSize:s,isProduct:l,socialAction:d}=this.props,{contentHeightInner:c,contentHeightUpEle:p}=this.state,h=!l&&!i.ig&&s.winWidth>991?s.height-(d?100:0):null;let _=(0,n.Fx)(this.props.contentData.text);const m=String(this.props.contentData).length>0&&o.style.textDecoration?" tb_post_modal_text_decorate":"";47===o.widgetTheme&&(document.querySelector("html").style.overflow="auto");const u=!i.P2&&c>(h||p);return(0,r.jsx)("div",{className:"tb_post_modal_post_wrapper  ".concat(u?"tb_scroll_auto":""),style:{height:1!=e.type?h:"100%"},children:(0,r.jsx)("div",{className:"tb_post_modal_post_wrap_in",ref:this.upperDivRef,children:(0,r.jsxs)("div",{className:"tb_post_modal_post_content",children:[null!=e.rating&&e.rating?(0,r.jsx)(k,{rating:e.rating,network:e.network}):null,(0,r.jsxs)("div",{className:"tb_post_modal_content tb-cTBfont-".concat(o.style.variant," ").concat(m),ref:this.innerDivRef,children:[t?(0,r.jsx)("div",{className:"tb_post_bold_txt",children:(0,S.ZP)(t)}):null,(0,r.jsxs)(a.Suspense,{fallback:(0,r.jsx)(r.Fragment,{}),children:[" ",(0,r.jsx)(I,{content:_,CardStyle:o})]})]})]})})},"content_".concat(e.id))}}o(31881);var C=o(60088),D=o(34873);class T extends a.Component{constructor(){super(...arguments),this.state={prdImgLoaded:!1,noImg:!1,itemDetails:{},isLoading:!0},this.openUrl=t=>{const{ProductSetting:e}=this.props;var o=t;2==parseInt(e.newTab)?window.parent.location.href=o:window.open(o,"_blank")},this.tracking=(t,e)=>{var o,a;const{item:s}=this.props;(0,x.S5)({type:1,action:2,wall:null===t||void 0===t||null===(o=t.ThemeInfo)||void 0===o?void 0:o.webId,product_id:e.id,post:s.referenceId,owner:null===t||void 0===t||null===(a=t.ThemeInfo)||void 0===a?void 0:a.ownerId,feed:s.feedId,currency:e.currency,price:Number(e.price)>0?e.discount:e.price})},this.showTooltipFunCallback=t=>{this.props.showTooltipFun(t)}}componentDidMount(){const{item:t,wall:e}=this.props;let{itemDetails:o}=this.state;if(t&&t.isProduct){this.setState({isLoading:!0});const a=t.products.map((t=>{var a,s;const i=t.url;if(1==(null===e||void 0===e||null===(a=e.ProductSetting)||void 0===a||null===(s=a.Button)||void 0===s?void 0:s.pdp_target))return o[t.id]={data:null,showCart:!1},this.setState({itemDetails:o}),Promise.resolve();if(i&&!String(i).includes(".html")&&""!=t.createdFrom){const a="magento"===t.createdFrom||!1;return(0,C.PC)(i,a,{productId:t.id,storeId:t.storeId}).then((s=>{if(a&&!1===s.status)o[t.id]={data:{available:!0},showCart:140717!==(null===e||void 0===e?void 0:e.ThemeInfo.ownerId)};else{var i;const n=a&&(null===s||void 0===s||null===(i=s.data)||void 0===i?void 0:i.data)||(null===s||void 0===s?void 0:s.data),l=a?{available:!0}:{};o[t.id]={data:null!==n&&void 0!==n&&n.id?{...n,...l}:null,showCart:(null===n||void 0===n?void 0:n.id)&&140717!==(null===e||void 0===e?void 0:e.ThemeInfo.ownerId)}}this.setState({itemDetails:o})})).catch((e=>{o[t.id]={data:null,showCart:!1},this.setState({itemDetails:o})}))}return o[t.id]={data:null,showCart:!1},this.setState({itemDetails:o}),Promise.resolve()}));Promise.all(a).then((()=>{this.setState({isLoading:!1})}))}}render(){const{item:t,products:e,wall:o,openCart:a,ProductSetting:s}=this.props,{itemDetails:i,isLoading:n}=this.state,{CatalogueTitle:l,Price:d,ProductTitle:c,Button:p}=s;return Object.keys(e||{}).length?(0,r.jsxs)("div",{className:"tb_pro__container",children:[(0,r.jsx)("div",{className:"tb_pro__heading tb-cTBfont-".concat(l.variant),children:(0,S.ZP)(l.text)}),(0,r.jsx)("div",{className:"tb_pro__wrap",children:e.map(((e,s)=>{var l,h,_,m,u,b,g;return(0,r.jsx)("div",{className:"tb_pro__item",children:(0,r.jsxs)("div",{className:"tb_pro__wrap_in",onMouseEnter:()=>this.showTooltipFunCallback(e.id),onMouseLeave:()=>this.showTooltipFunCallback(0),children:[(0,r.jsx)("div",{className:"tb_pro__img_wrapper",children:(0,r.jsx)(D.Z,{ImageClass:"tb_pro__image",media:e.image,size:!1,itemDetails:i[e.id]||null},"pro-".concat(e.id))}),null!==e&&void 0!==e&&e.title?(0,r.jsx)("div",{className:"tb_pro__title tb-cTBfont-".concat(c.variant),children:(0,S.ZP)(e.title)}):null,Number(e.price)>0||Number(e.discount)>0?(0,r.jsxs)("div",{className:"tb_pro__price_wrap",children:[(0,r.jsxs)("div",{className:"tb_pro__price tb-cTBfont-".concat(d.variant),children:[e.currency,Number(e.discount)>0?e.discount:e.price]}),Number(e.discount)>0&&e.discount!=e.price?(0,r.jsxs)("div",{className:"tb_pro__discount_price tb-cTBfont-".concat(d.variant),children:[e.currency,e.price]}):null]}):null,i&&Object.keys(i).length&&i[e.id]&&null!==(l=i[e.id])&&void 0!==l&&l.showCart?(0,r.jsx)("div",{className:"tb_pro__link",children:(0,r.jsx)("div",{onClick:null!==(h=i[e.id])&&void 0!==h&&null!==(_=h.data)&&void 0!==_&&_.available?()=>a(e.id,e,i[e.id],t):null,className:"tb_pro__btn ".concat(null!==(m=i[e.id])&&void 0!==m&&null!==(u=m.data)&&void 0!==u&&u.available?"":"tb_pro_sold"," tb-cTBfont-").concat(p.variant," ").concat(n?"tb_pro_sold":""),children:null!==(b=i[e.id])&&void 0!==b&&null!==(g=b.data)&&void 0!==g&&g.available?p.text:"Sold Out"})}):(0,r.jsx)("div",{className:"tb_pro__link",children:(0,r.jsx)("div",{onClick:()=>{this.openUrl(e.url),this.tracking(o,e)},className:"tb_pro__btn tb-cTBfont-".concat(p.variant," ").concat(n?" tb_pro_sold":""),target:o&&o.User&&"102810"!=o.User.id?"_blank":"",children:p.text})})]})},s)}))})]}):null}}const z=T;function U(t){t.style.setProperty("visibility","visible","important"),t.style.setProperty("opacity","1","important"),t.style.setProperty("display","flex","important"),t.style.setProperty("transform","none","important"),t.style.setProperty("clip-path","initial","important"),t.style.setProperty("border","none","important")}class B extends a.PureComponent{render(){const{brandingNetworks:t,wallId:e,wall:o}=this.props,a=i.ig||"".concat((0,n.$t)(t,e)[0]),s=i.ig?"tagshop-light.svg":i.bX?"socialwalls-light.svg":"tagbox-light.svg",{poweredBy:d}=o.ThemeStyle.language.text;return(0,r.jsxs)("a",{href:a,target:"_blank",ref:t=>{t&&(t.style.setProperty("position","absolute","important"),t.style.setProperty("left","auto","important"),t.style.setProperty("right","0","important"),t.style.setProperty("bottom","-26px","important"),t.style.setProperty("align-items","center","important"),t.style.setProperty("padding-top","4px","important"),t.style.setProperty("display","flex","important"),t.style.setProperty("width","auto","important"),t.style.setProperty("text-decoration","none","important"),t.style.setProperty("direction","ltr","important"),U(t))},children:[(0,r.jsxs)("div",{ref:t=>{t&&(t.style.setProperty("font-size","13px","important"),t.style.setProperty("color","#fff","important"),t.style.setProperty("margin-right","5px","important"),t.style.setProperty("width","100%","important"),t.style.setProperty("height","auto","important"),t.style.setProperty("font-family","inherit","important"),U(t))},children:[d||"Powered by"," "]}),(0,r.jsx)("div",{ref:t=>{t&&(t.style.setProperty("background-image","url(".concat(l.do,"/media/logo/").concat(s,")"),"important"),t.style.setProperty("background-size","contain","important"),t.style.setProperty("background-position","left center","important"),t.style.setProperty("background-repeat","no-repeat","important"),t.style.setProperty("height","22px","important"),t.style.setProperty("min-height","22px","important"),t.style.setProperty("width","90px","important"),t.style.setProperty("min-width","90px","important"),U(t))}})]})}}var E=o(3133),A=o(24385);class M extends a.PureComponent{constructor(){super(...arguments),this.state={isEnable:0,eventData:{},shareText:"SHARE",viewOnText:"View on",currentIndex:null,completeData:{},personalization:{},url:null,imgData:[],type:"",parentID:"",isRepeatingPost:!1,allSize:{winHeight:null,winWidth:null,height:null,width:null,paddingBottom:null},addtoCartPopup:!1,productImg:"",prodImgIdx:0},this.keyboardEvent=t=>{let e=this.state.currentIndex;[39,40].includes(t.keyCode)?(e+=1,this.featuredPopSliderChangeIndex(e)(t)):[37,38].includes(t.keyCode)?(e-=1,this.featuredPopSliderChangeIndex(e)(t)):27==t.keyCode&&this.closeWidgetPopUP()},this.onCloseModal=()=>{var t=document.querySelector("#tb_post_modal_modal-".concat(this.state.parentID));t&&t.classList.contains("tb_post_modal_show")&&(t.classList.remove("tb_post_modal_show"),this.setState({isEnable:0,currentIndex:null,type:"",addtoCartPopup:!1,selectedProdDetails:null}),this.props.closePopUP());var e=document.getElementsByTagName("html");e&&e[0]&&(e[0].style.overflow="")},this.closeWidgetPopUP=t=>this.onCloseModal(),this.getWidgetPopUPEvent=t=>{void 0!==t&&""!=t&&t.card&&("post"==t.type?this.setState({url:"",isEnable:1,eventData:t,currentIndex:t.index,completeData:t.idArray,viewOnText:t.viewOnText,shareText:t.shareText,imgData:t.imgData,personalization:t.personalization,type:t.type,showTooltip:0}):"submit-pic"==t.type&&this.setState({isEnable:1,type:t.type,windowParent:t}))},this.featuredPopSliderChangeIndex=t=>e=>{const{eventData:o,isRepeatingPost:a}=this.state;if(o.idArray.length-1!=t&&t!==o.idArray.length||a){let e;e=t===o.idArray.length-1||t===o.idArray.length?0:-1===t?o.idArray.length-1:t,this.setState({currentIndex:e,isRepeatingPost:!1},(()=>this.onPopUpTrack()))}else this.loadMore()},this.onPopUpTrack=()=>{try{const{wall:t}=this.props,{currentIndex:e,completeData:o,eventData:a}=this.state;let s=null;s=-1===e?o[a.idArray.length-1]:o[e];const n={feed:s.feedId,post:s.referenceId?s.referenceId:s.id},l={action:2,wall:t.ThemeInfo.webId,feed:s.feedId,post:s.referenceId?s.referenceId:s.id,type:3,owner:t.ThemeInfo.ownerId};(0,x.S5)(i.nX?l:{action:2,wall:t.ThemeInfo.webId,...n,owner:t.ThemeInfo.ownerId,type:3})}catch(t){console.log("Error in PopUp Tracking",t)}},this.loadMore=()=>{const{wall:t,postData:e}=this.props,{eventData:o,currentIndex:a}=this.state,s=!e.hasMoreData||!Object.keys(e.hasMoreData).length||(!e.hasMoreData[0]||0!=e.hasMoreData[0].hasMoreData)&&(!e.hasMoreData[e.appendData.networkID]||e.hasMoreData[e.appendData.networkID].hasMoreData);if(o.idArray.length-1==a&&this.setState({isRepeatingPost:!0}),s){const o=t.ThemeStyle.totalPosts,a=Math.floor(Date.now()/1e3);this.props.nextData(i.ig?t.ThemeInfo.webId:t.ThemeInfo.wallId,a,o,e.appendData.networkID,e.appendData.after,e.appendData.heightEvent)}else this.setState({currentIndex:0})},this.popUpCloseClckOnWindow=()=>{document.addEventListener("click",(t=>{t.target.matches("#tb_post_modal_modal-".concat(this.state.parentID))&&this.onCloseModal()}))},this.allSize=t=>{this.setState({allSize:{winHeight:window.innerHeight,winWidth:window.innerWidth,height:t.height,width:t.width,paddingBottom:100*t.height/t.width}})},this.onClickOpenCart=(t,e,o,a)=>{const{ThemeInfo:s}=this.props.wall,n={type:1,action:2,wall:i.ig?s.webId:s.wallId,feed:a.feedId,post:a.referenceId?a.referenceId:a.id,owner:s.ownerId,product_id:e.id,productList:[],currency:e.currency,price:Number(e.discount)>0?Number(e.discount):Number(e.price)};this.setState({addtoCartPopup:!0,selectedProdDetails:o,tagProdDetail:{...e,trackingData:n},pId:t,productImg:e.image})},this.closeCart=t=>{this.setState({addtoCartPopup:!1,selectedProdDetails:null},(()=>{var t=document.querySelector("#tb_post_modal_modal-".concat(this.state.parentID));t&&t.classList.add("tb_post_modal_show")}))},this.onUpdateProdImgIdx=t=>{this.setState({prodImgIdx:t})},this.showTooltipFun=t=>{this.setState({showTooltip:t})}}componentDidMount(){var t;const{data:e}=this.props;let o=document.querySelector(".tb_app_container"),a=b.b8?b.b8:null===o||void 0===o||null===(t=o.parentNode)||void 0===t?void 0:t.id;this.setState({parentID:a}),this.getWidgetPopUPEvent(e),setTimeout((()=>{var t=document.querySelector("#tb_post_modal_modal-".concat(this.state.parentID));t&&t.classList.add("tb_post_modal_show")}));var s=document.getElementsByTagName("html");s&&s[0]&&(s[0].style.overflow="hidden"),this.popUpCloseClckOnWindow(),window.addEventListener&&window.addEventListener("keydown",this.keyboardEvent)}componentWillUnmount(){window.removeEventListener("keydown",this.keyboardEvent)}componentDidUpdate(){const t=this;let e=0;if(window.editor){let o=document.getElementById("tb_post_modal_modal-taggbox_main"),a=document.querySelector(".tb_post_modal_conetent"),s=document.querySelector(".tb_post_modal_nxt_btn"),i=document.querySelector(".tb_post_modal_prev_btn");o&&(a&&(a.onclick=()=>e=1),s&&(s.onclick=()=>e=1),i&&(i.onclick=()=>e=1),o.onclick=()=>{0==e&&t.onCloseModal(),e=0})}}UNSAFE_componentWillReceiveProps(t){const{postData:e}=t;let{completeData:o,eventData:a}=this.state;if(o.length!=e.postData.length){let t=e.postData.map((t=>e.completeDataObject[t])).filter((t=>!String(t.id).includes("free_add_")));a.idArray=t,this.setState({completeData:t,eventData:a},(()=>{const{currentIndex:t}=this.state;this.setState({currentIndex:t+1},(()=>this.onPopUpTrack()))}))}}render(){var t,e,o,a,s,n,l,d,c,p,h,_;const{wall:u,reportMediaPopUp:b,brandingNetworks:g,postData:v}=this.props,{currentIndex:y,completeData:x,eventData:P,parentID:S,allSize:j,addtoCartPopup:k,productImg:I,selectedProdDetails:C,tagProdDetail:D,prodImgIdx:T,showTooltip:U}=this.state;let M=null;M=-1===y?x[P.idArray.length-1]:x[y];const F=1==(null===(t=u.ThemeStyle)||void 0===t||null===(e=t.modal)||void 0===e?void 0:e.slide),L=i.ig?1==(null===(o=u.CardStyle)||void 0===o||null===(a=o.content)||void 0===a?void 0:a.modalContentStatus)?0:1:null===(s=u.CardStyle)||void 0===s||null===(n=s.content)||void 0===n?void 0:n.status,W=!!(M&&S&&Object.keys(M).length&&1==L&&1!=M.type),R=!!(M&&S&&Object.keys(M).length&&M.isProduct),H=!!(null!==u&&void 0!==u&&null!==(l=u.CardStyle)&&void 0!==l&&l.actionStatus&&i.ig||!i.ig),O=i.ig&&R?" tb_post_modal_ts_p":"",q=i.ig?" tb_post_modal_ts_":"",V="".concat(q).concat(O),Z={maxHeight:R&&i.ig&&j.winWidth>991?j.height-(H?45:0):null};return M&&S&&Object.keys(M).length?k?"magento"==(null===D||void 0===D||null===(d=D.UgcProduct)||void 0===d?void 0:d.created_from)?(0,r.jsx)(A.Z,{productImg:I,addtoCartPopup:k,productDetails:C,tagshopProductDeatil:D,closeCart:this.closeCart,onAddToCart:()=>this.setState({continueShopping:!0}),onSelectedVariant:t=>this.setState({selectedVariant:t}),wall:u,closePopUp:this.props.closePopUP}):(0,r.jsx)(E.Z,{productImg:I,addtoCartPopup:k,productDetails:C,tagshopProductDeatil:D,closeCart:this.closeCart,onAddToCart:()=>this.setState({continueShopping:!0}),onSelectedVariant:t=>this.setState({selectedVariant:t}),wall:u,closePopUp:this.props.closePopUP}):(0,r.jsx)("div",{className:"tb_post_modal_modal ".concat(i.P2?"":"tb_post_wall_modal"),id:"tb_post_modal_modal-".concat(S),children:(0,r.jsx)("div",{className:"tb_post_modal_modal_dialog".concat(W&&!R?" tb_only_media_modal":""," ").concat(H&&i.P2?" tb_post_modal_modal_full":"").concat(V),children:(0,r.jsxs)("div",{className:"tb_post_modal_conetent",children:[i.P2?(0,r.jsxs)("div",{className:"tb_post_modal_modal_head",children:[(0,r.jsxs)("div",{className:"tb_post_modal_modal_header",children:[(0,r.jsx)("div",{className:"tb_post_modal_post_link_small",children:(0,r.jsx)("div",{className:"tb_post_modal_post_address",children:M.link?(0,r.jsxs)("div",{className:"tb_post_modal_view_link",onClick:t=>window.open(M.link,"_blank"),children:[(0,r.jsxs)("div",{className:"tb_post_modal_view",children:[u.ThemeStyle.language.text.viewOn," ",M.network.name]}),(0,r.jsx)("div",{className:"tb_post_view_ico tb__icon tb-arrow-right-alt",children:" "})]}):null})}),i.P2?(0,r.jsx)("div",{className:"tb_post_modal_close_wrap",children:(0,r.jsx)("div",{className:"tb_post_modal_close_btn",onClick:this.closeWidgetPopUP,children:(0,r.jsx)("div",{className:"tb_post_close_ico tb__icon tb-close-alt",children:" "})})}):null]}),i.P2&&F?(0,r.jsxs)("div",{className:"tb_post_modal_navigation tb_post_modal_nav_content ".concat(1===M.type?"tb_post_modal_text_nav__":""),children:[(0,r.jsx)("div",{className:"tb_post_modal_nav tb_post_modal_prev_btn",onClick:this.featuredPopSliderChangeIndex(y-1),children:(0,r.jsx)("div",{className:"tb_post_nav tb__icon tb-arrow-left-alt",children:" "})}),(0,r.jsx)("div",{className:"tb_post_modal_nav tb_post_modal_nxt_btn",onClick:this.featuredPopSliderChangeIndex(y+1),children:(0,r.jsx)("div",{className:"tb_post_nav tb__icon tb-arrow-right-alt",children:" "})})]}):null]}):null,(0,r.jsx)("div",{className:"tb_post_modal_body_container",children:(0,r.jsxs)("div",{className:"tb_post_modal_modal_body",children:[1!=M.type?(0,r.jsxs)("div",{className:"tb_post_modal_details_left",children:[i.P2&&F?(0,r.jsxs)("div",{className:"tb_post_modal_navigation tb_post_modal_nav_img",children:[(0,r.jsx)("div",{className:"tb_post_modal_nav tb_post_modal_prev_btn",onClick:this.featuredPopSliderChangeIndex(y-1),children:(0,r.jsx)("div",{className:"tb_post_nav tb__icon tb-arrow-left-alt",children:" "})}),(0,r.jsx)("div",{className:"tb_post_modal_nav tb_post_modal_nxt_btn",onClick:this.featuredPopSliderChangeIndex(y+1),children:(0,r.jsx)("div",{className:"tb_post_nav tb__icon tb-arrow-right-alt",children:" "})})]}):null,(0,r.jsx)(m,{allSizeCallback:this.allSize,hideContent:W&&!R,Post:M,CardStyle:u.CardStyle,ThemeStyle:u.ThemeStyle,ThemeInfo:u.ThemeInfo,onUpdateProdImgIdx:this.onUpdateProdImgIdx,showTooltip:U})]}):null,(0,r.jsx)("div",{className:"tb_post_modal_details_right".concat(1===M.type?" tb_post_modal_text__":""),children:(0,r.jsxs)("div",{className:"tb_post_modal_content_wrap",children:[(0,r.jsx)("div",{className:"tb_post_modal_content_in",style:Z,children:(0,r.jsxs)("div",{className:"tb_post_modal_post_detail_wrap",children:[R?(0,r.jsx)(z,{item:M,wall:u,ProductSetting:u.ProductSetting,products:null!==(c=M.mediaList)&&void 0!==c&&c.length?null===(p=M.mediaList[T])||void 0===p?void 0:p.product:M.products,openCart:this.onClickOpenCart,showTooltipFun:this.showTooltipFun},"product_".concat(M.id)):null,(0,r.jsx)(w,{Post:M,ThemeStyle:u.ThemeStyle,CardStyle:u.CardStyle},"author-".concat(M.id)),W?null:(0,r.jsx)(N,{CardStyle:u.CardStyle,item:M,contentData:M.content,contentTitle:M.content.title,allSize:j,isProduct:null===(h=M.mediaList[T])||void 0===h?void 0:h.product,socialAction:H},M.id)]})}),H&&i.P2?(0,r.jsxs)("div",{className:"tb_post_modal_post_footer",children:[i.Jx||i.bX||i.aL?(0,r.jsx)("div",{className:"tb_post_modal_post_footer_report",children:(0,r.jsx)("div",{className:"tb_post_modal_post_report_media_btn_wrap__",onClick:t=>b(M),children:(0,r.jsx)("div",{className:"tb_post_modal_post_report_media_btn__",children:"Report"})})}):null,u.CardStyle.actionStatus||i.Jx?(0,r.jsx)(f,{item:M,wall:u}):null]}):null]})}),!i.bX&&!i.aL&&1==(null===u||void 0===u||null===(_=u.UserRule)||void 0===_?void 0:_.branding_lite)||v.isFreeAdsStatus?(0,r.jsx)(B,{brandingNetworks:g,wallId:u.ThemeInfo.webId,themeID:null===u||void 0===u?void 0:u.ThemeInfo.id}):null]})})]})})}):null}}const F=(0,s.$j)((t=>({loaderData:t.loaderData})),(t=>({closePopUP:e=>t((0,y.zj)(e)),reportMediaPopUp:e=>t((0,y.SD)(e)),nextData:(e,o,a,s,i,n,l)=>t((0,x.Mk)(e,o,a,s,i,n,l))})))(M)},89239:(t,e,o)=>{o.r(e),o.d(e,{default:()=>n});var a=o(47313),s=o(63214),i=o(46417);class n extends a.PureComponent{render(){const{author:t,authorClass:e,networkId:o,size:a,inView:n}=this.props;return(0,i.jsx)("div",{className:e,style:{overflow:4==o?"visible":""},children:n?(0,i.jsx)("img",{className:"".concat(e,"__"),src:t.picture,"aria-label":"author",alt:t.name,width:a||44,height:a||44,onError:e=>{const a=(0,s.B4)(o),i="#ffffff"==a?"000":a.replace("#","");e.target.src=t.errorPic?t.errorPic:"https://ui-avatars.com/api/?name=".concat(t.name.replace(/\s/g,""),"&background=").concat(i,"&color=fff&length=1")}}):null},Math.random())}}},72842:(t,e,o)=>{o.r(e),o.d(e,{default:()=>l});var a=o(47313),s=o(63214),i=o(46417);const n=a.lazy((()=>o.e(5867).then(o.bind(o,95867))));class l extends a.PureComponent{render(){const{networkId:t,networkClass:e,iconStyle:o,isPopUp:l}=this.props;return(null===o||void 0===o?void 0:o.default)||[7,4,36].includes(t)?(0,i.jsx)(a.Suspense,{fallback:(0,i.jsx)(i.Fragment,{}),children:(0,i.jsx)(n,{networkId:t,networkClass:e})}):(0,i.jsx)("div",{className:"".concat(e," tb__icon tb-").concat((0,s.O5)(t)),"aria-label":"post network ".concat((0,s.BK)(t)),children:(0,i.jsx)("div",{})})}}},55790:(t,e,o)=>{o.r(e),o.d(e,{default:()=>l});var a=o(47313),s=o(46335),i=o(46417);const n=t=>{const{createdAt:e,timeClass:o}=t;return(0,i.jsx)("div",{className:o,role:"status","aria-label":"post timestamp ".concat((0,s.Sy)(e)),children:(0,s.Sy)(e)})},l=(0,a.memo)(n)},63214:(t,e,o)=>{o.d(e,{B4:()=>s,BK:()=>i,O5:()=>a});const a=t=>({0:"manual-upload",1:"twitter",2:"instagram",3:"facebook",4:"google",5:"pinterest",6:"flickr",7:"youtube",8:"vimeo",10:"linkedin",11:"tumblr",12:"rss",13:"star",15:"workplace",18:"instagram",19:"yelp",20:"slack",21:"yammer",23:"airbnb",25:"soundcloud",26:"giphy",27:"deviantart",28:"tiktok",29:"onsite-upload",30:"vkontakte",32:"chrome",33:"collabration",34:"amazon",35:"tripadvisor",36:"star",37:"aliexpress"}[t]||""),s=t=>({0:"#313A53",1:"#29a9e1",2:"#000000",3:"#1b74e4",4:"#4081ed",5:"#e60022",6:"#0a63dc",7:"#FF0000",8:"#1eb8eb",10:"#0a66c2",11:"#36465d",12:"#f78422",13:"#FABF04",15:"#4767ab",18:"#000000",19:"#be362e",20:"#510d4e",21:"#0078d4",23:"#ff7977",25:"#ff7700",26:"#000000",27:"#00e59b",28:"#000000",29:"#613983",30:"#0077FF",32:"#4c8bf5",33:"#4e69ed",34:"#4e69ed",35:"#60c196",36:"#00e9ff",37:"#E52F20"}[t]||""),i=t=>({0:"Manual Upload",1:"Twitter",2:"Instagram",3:"Facebook",4:"Google",5:"Pinterest",6:"Flickr",7:"YouTube",8:"Vimeo",10:"LinkedIn",11:"Tumblr",12:"RSS",13:"Star",15:"Workplace",18:"Instagram",19:"Yelp",20:"Slack",21:"Yammer",23:"Airbnb",25:"Soundcloud",26:"Giphy",27:"Deviantart",28:"Tiktok",29:"Review Hub",30:"Vkontakte",32:"Chrome Extension",33:"Collab with Creators",34:"Amazon",35:"Tripadvisor",36:"Review Hub",37:"Aliexpress"}[t]||"")}}]);