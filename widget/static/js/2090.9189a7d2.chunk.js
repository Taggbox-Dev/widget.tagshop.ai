"use strict";(self.webpackChunkembed_widget=self.webpackChunkembed_widget||[]).push([[2090],{42090:(t,n,e)=>{e.r(n),e.d(n,{default:()=>m});var o=e(47313),i=e(65537),r=e(11774),s=e(44084),a=e(46417);const c=(0,o.lazy)((()=>e.e(7296).then(e.bind(e,27296)))),l=(0,o.lazy)((()=>Promise.all([e.e(7914),e.e(7630)]).then(e.bind(e,47630)))),d=t=>{let{CardStyle:n,ThemeStyle:e,itemData:i,completeDataObject:s,index:l,clickToShowPopUp:d,postSizeInPx:u,onClickPopUpSlider:f,dataIndex:p}=t;return(0,a.jsx)(r.jw,{children:(0,a.jsx)(o.Suspense,{fallback:(0,a.jsx)(a.Fragment,{}),children:(0,a.jsx)(c,{CardStyle:n,ThemeStyle:e,Post:s[i[p]],index:l,clickToShowPopUp:d,postSizeInPx:u,onClickPopUpSlider:f})})})},u=t=>(0,a.jsxs)("div",{className:"tb_gt_post_row",children:[(0,a.jsxs)("div",{className:"tb_gt_post_sm",children:[t.isOnsite&&0==t.index?(0,a.jsx)("div",{className:"tb_gt_post_wrapper tb_onsite_post__",children:(0,a.jsx)(o.Suspense,{fallback:(0,a.jsx)(a.Fragment,{}),children:(0,a.jsx)(l,{className:"tb_gt_post_in",...t,wallId:t.ThemeInfo.wallId,webId:t.ThemeInfo.webId})})}):(0,a.jsx)(d,{...t,dataIndex:0}),(0,a.jsx)(d,{...t,dataIndex:1})]}),(0,a.jsx)("div",{className:"tb_gt_post_lg",children:(0,a.jsx)(d,{...t,dataIndex:2})})]});var f=e(35179),p=(e(47097),e(61893)),h=e(17739);class _ extends o.PureComponent{constructor(t){super(t),this.setInputRef=(t,n)=>{n&&(this.inputRefs[t]=n)},this.updatepost=t=>{this.state.loadData||(this.setState({loadData:!0}),setTimeout((()=>this.props.loadMoredata()),1e3*t))},this.requestData=()=>{const{postData:t,ThemeStyle:n,ThemeInfo:e,preRender:o,hasMoreData:i}=this.props;var r,s,a;(!this.state.loadData&&this.updatepost(0),i)&&(0,p.Mk)(f.ig?e.webId:e.wallId,Math.floor(Date.now()/1e3),n.totalPosts,null===t||void 0===t||null===(r=t.appendData)||void 0===r?void 0:r.networkID,null===(s=t.appendData)||void 0===s?void 0:s.after,o,null===(a=t.appendData)||void 0===a?void 0:a.heightEvent)},this.state={parent_id:"",loadData:!1},this.inputRefs={},this.sliderRef=(0,o.createRef)(),this.splide=null,this.isDragging=!1}componentDidMount(){const t=this.sliderRef.current;t&&(t.splide.on("drag",(()=>{this.isDragging=!0,!this.state.loadData&&this.updatepost(0)})),t.splide.on("move",(()=>{!this.state.loadData&&!this.isDragging&&this.updatepost(3)}))),setTimeout((()=>{const t=document.querySelectorAll(".splide__slide");t&&t.forEach((t=>{t.removeAttribute("aria-hidden"),t.removeAttribute("role")}))}),300),this.props.loadBranding()}componentWillUnmount(){this.splide&&this.splide.destroy()}render(){const{SnapUp:t,postData:n,completeDataObject:e,CardStyle:o,ThemeStyle:i,ProductSetting:c,ThemeInfo:l,clickToShowPopUp:d,parentID:f,onClickToCTA:p,onClickPopUpSlider:_,containerSize:m}=this.props,g=i.slide.autoSlide,v=i.slide.slideDuration,b=i.row,w=m.width>767?600:500,x=Math.max((m.width/w).toFixed(),1),y=(0,h.Pu)(m.width,i.column,x),S={grid:{rows:b},rewind:!0,type:"slide",speed:1e3,interval:1===g?1e3*parseInt(v):5e3,perPage:y,perMove:1,gap:0,autoplay:1===g,padding:0,pagination:!1,dragThreshold:100,arrows:!0};let j=[];const E=!(!t.Form.status||!t.ruleStatus);for(let r=0;r<n.length;){let t=0==r&&E?2:3;const e=2==t?[0].concat(n.slice(r,r+t)):n.slice(r,r+t);j.push(e),r+=t}return j=n.length<9?Array(Math.floor(n.length/2)).fill(j).flat():j,n&&n.length>2?(0,a.jsx)("div",{className:"tb_gt_post_container",children:(0,a.jsxs)(r.tv,{hasTrack:!1,className:"tb_gt_post_slider",options:S,extensions:{Grid:s.r},ref:this.sliderRef,children:[(0,a.jsx)("div",{className:"splide__track",children:(0,a.jsx)("div",{className:"splide__list",children:j.map(((r,s)=>r&&3==r.length?(0,a.jsx)("div",{id:"tb_gt-".concat(s),className:"splide__slide tb_".concat(s),idd:f,children:(0,a.jsx)(u,{parentID:f,completeDataObject:e,clickToShowPopUp:d,onClickToCTA:p,postSizeInPx:m.width/y,onClickPopUpSlider:_,Post:n,index:s,SnapUp:t,CardStyle:o,ThemeStyle:i,ProductSetting:c,ThemeInfo:l,itemData:r,isOnsite:E})},s):null))})}),(0,a.jsxs)("div",{className:"splide__arrows splide__arrows--ltr tb_gt_arrow_wrapper_",children:[(0,a.jsx)("div",{className:"tb_gt_arrow splide__arrow splide__arrow--prev tb_gt_arrow tb_gt_arrow_left__ tb__icon tb-arrow-left-alt",role:"button","aria-label":"Go to previous slide",children:(0,a.jsx)("div",{})}),(0,a.jsx)("div",{className:"tb_gt_arrow splide__arrow splide__arrow--next  tb_gt_arrow_right__ tb__icon tb-arrow-right-alt",onClick:this.requestData,role:"button","aria-label":"Go to next slide",children:(0,a.jsx)("div",{})})]})]})}):null}}const m=(0,i.$j)("",(t=>({nextData:(n,e,o,i,r,s,a,c)=>t((0,p.Mk)(n,e,o,i,r,s,a,c))})))(_)},44084:(t,n,e)=>{function o(t,n,e){return Array.prototype.slice.call(t,n,e)}function i(t){return t.bind.apply(t,[null].concat(o(arguments,1)))}function r(t,n){return typeof n===t}e.d(n,{r:()=>ot});var s=Array.isArray;function a(t){return s(t)?t:[t]}function c(t,n){a(t).forEach(n)}i(r,"function"),i(r,"string"),i(r,"undefined");var l=Object.keys;function d(t){return o(arguments,1).forEach((function(n){!function(t,n,e){if(t){var o=l(t);o=e?o.reverse():o;for(var i=0;i<o.length;i++){var r=o[i];if("__proto__"!==r&&!1===n(t[r],r))break}}}(n,(function(e,o){t[o]=n[o]}))})),t}var u="splide";var f="visible",p="hidden",h="refresh",_="updated",m="destroy";function g(t){var n=t?t.event.bus:document.createDocumentFragment(),e=function(){var t=[];function n(t,n,e){c(t,(function(t){t&&c(n,(function(n){n.split(" ").forEach((function(n){var o=n.split(".");e(t,o[0],o[1])}))}))}))}return{bind:function(e,o,i,r){n(e,o,(function(n,e,o){var s="addEventListener"in n,a=s?n.removeEventListener.bind(n,e,i,r):n.removeListener.bind(n,i);s?n.addEventListener(e,i,r):n.addListener(i),t.push([n,e,o,i,a])}))},unbind:function(e,o,i){n(e,o,(function(n,e,o){t=t.filter((function(t){return!!(t[0]!==n||t[1]!==e||t[2]!==o||i&&t[3]!==i)||(t[4](),!1)}))}))},dispatch:function(t,n,e){var o;return"function"===typeof CustomEvent?o=new CustomEvent(n,{bubbles:!0,detail:e}):(o=document.createEvent("CustomEvent")).initCustomEvent(n,!0,!1,e),t.dispatchEvent(o),o},destroy:function(){t.forEach((function(t){t[4]()})),t.length=0}}}();return t&&t.event.on(m,e.destroy),d(e,{bus:n,on:function(t,o){e.bind(n,a(t).join(" "),(function(t){o.apply(o,s(t.detail)?t.detail:[])}))},off:i(e.unbind,n),emit:function(t){e.dispatch(n,t,o(arguments,1))}})}var v=u,b=u+"__slide",w=b+"__container";function x(t){t.length=0}function y(t,n,e){return Array.prototype.slice.call(t,n,e)}function S(t){return t.bind(null,...y(arguments,1))}function j(t,n){return typeof n===t}const E=Array.isArray;S(j,"function");const D=S(j,"string"),k=S(j,"undefined");function C(t){return null===t}function I(t){return E(t)?t:[t]}function T(t,n){I(t).forEach(n)}function P(t,n){return t.push(...I(n)),t}function A(t,n,e){t&&T(n,(n=>{n&&t.classList[e?"add":"remove"](n)}))}function N(t,n){A(t,D(n)?n.split(" "):n,!0)}function M(t,n){T(n,t.appendChild.bind(t))}function U(t,n){return t instanceof HTMLElement&&(t.msMatchesSelector||t.matches).call(t,n)}function L(t,n){return n?function(t,n){const e=t?y(t.children):[];return n?e.filter((t=>U(t,n))):e}(t,n)[0]:t.firstElementChild}const R=Object.keys;function O(t,n,e){if(t){let o=R(t);o=e?o.reverse():o;for(let e=0;e<o.length;e++){const i=o[e];if("__proto__"!==i&&!1===n(t[i],i))break}}return t}function z(t,n){T(t,(t=>{T(n,(n=>{t&&t.removeAttribute(n)}))}))}function F(t,n,e){var o;!C(o=n)&&j("object",o)?O(n,((n,e)=>{F(t,e,n)})):T(t,(t=>{C(e)||""===e?z(t,n):t.setAttribute(n,String(e))}))}function q(t,n,e){const o=document.createElement(t);return n&&(D(n)?N(o,n):F(o,n)),e&&M(e,o),o}function G(t,n,e){if(k(e))return getComputedStyle(t)[n];C(e)||(t.style[n]="".concat(e))}function B(t,n){return n?y(t.querySelectorAll(n)):[]}function H(t,n){A(t,n,!1)}function W(t){return D(t)?t:t?"".concat(t,"px"):""}const $="splide";const{min:J,max:K,floor:Q,ceil:V,abs:X}=Math;const Y="".concat(b,"__row"),Z="".concat(b,"--col"),tt={rows:1,cols:1,dimensions:[],gap:{}};function nt(t){function n(){const{rows:n,cols:e,dimensions:o}=t;return E(o)&&o.length?o:[[n,e]]}return{get:function(t){const e=n();return e[J(t,e.length-1)]},getAt:function(t){const e=n();let o,i,r=0;for(let n=0;n<e.length;n++){const s=e[n];if(o=s[0]||1,i=s[1]||1,r+=o*i,t<r)break}return function(t,n){if(!t)throw new Error("[".concat($,"] ").concat(n||""))}(o&&i,"Invalid dimension"),[o,i]}}}function et(t,n,e){const{on:o,destroy:i}=g(t),{Components:r,options:s}=t,{resolve:a}=r.Direction,{forEach:c}=r.Slides;function l(t,n){const e=L(t,".".concat(w)),o=L(e||t,"img");o&&o.src&&(G(e||t,"background",n?"":'center/cover no-repeat url("'.concat(o.src,'")')),G(o,"display",n?"":"none"))}function d(t){return B(t,".".concat(Y))}function u(t){return B(t,".".concat(Z))}function h(t,n){u(t).forEach((t=>{F(t,"tabindex",n?0:null)}))}function _(t){h(t.slide,!0)}function m(t){h(t.slide,!1)}return{mount:function(){c((o=>{const{slide:i}=o,[r,s]=e.get(o.isClone?o.slideIndex:o.index);!function(t,e){const{row:o}=n.gap,i="calc(".concat(100/t,"%").concat(o?" - ".concat(W(o)," * ").concat((t-1)/t):"",")");d(e).forEach(((t,n,e)=>{G(t,"height",i),G(t,"display","flex"),G(t,"margin","0 0 ".concat(W(o)," 0")),G(t,"padding",0),n===e.length-1&&G(t,"marginBottom",0)}))}(r,i),function(t,e){const{col:o}=n.gap,i="calc(".concat(100/t,"%").concat(o?" - ".concat(W(o)," * ").concat((t-1)/t):"",")");u(e).forEach(((t,n,e)=>{G(t,"width",i),n!==e.length-1&&G(t,a("marginRight"),W(o))}))}(s,i),u(o.slide).forEach(((n,e)=>{var i;n.id="".concat(o.slide.id,"-col").concat((i=e+1)<10?"0".concat(i):"".concat(i)),t.options.cover&&l(n)}))})),s.slideFocus&&(o(f,_),o(p,m))},destroy:function(){c((t=>{const{slide:n}=t;h(n,!1),d(n).forEach((t=>{z(t,"style")})),u(n).forEach((t=>{l(t,!0),z(t,"style")}))})),i()}}}function ot(t,n,e){const{on:o,off:i}=g(t),{Elements:r}=n,s={},a=nt(s),c=et(t,s,a),l="".concat(v,"--grid"),d=[];function u(){var n,c;n=s,I(c||R(n)).forEach((t=>{delete n[t]})),function(t){y(arguments,1).forEach((n=>{O(n,((e,o)=>{t[o]=n[o]}))}))}(s,tt,e.grid||{}),!function(){if(e.grid){const{rows:t,cols:n,dimensions:e}=s;return t>1||n>1||E(e)&&e.length>0}return!1}()?w()&&(f(),p()):(f(),P(d,r.slides),N(t.root,l),M(r.list,function(){const t=[];let n,e,o=0,i=0;return d.forEach(((r,s)=>{const[c,l]=a.getAt(s);i||(o||(n=q(r.tagName,b),t.push(n)),e=function(t,n,e){const o="li"===n.tagName.toLowerCase()?"ul":"div";return q(o,Y,e)}(0,r,n)),function(t,n,e){N(n,Z),M(e,n)}(0,r,e),++i>=l&&(i=0,o=++o>=c?0:o)})),t}()),i(h),o(h,m),p())}function f(){if(w()){const{slides:n}=r;c.destroy(),d.forEach((t=>{H(t,Z),M(r.list,t)})),T(n,(t=>{t&&t.parentNode&&t.parentNode.removeChild(t)})),H(t.root,l),x(n),P(n,d),x(d),i(h)}}function p(){t.refresh()}function m(){w()&&c.mount()}function w(){return n=t.root,e=l,n&&n.classList.contains(e);var n,e}return{mount:function(){u(),o(_,u)},destroy:f}}},47097:()=>{}}]);