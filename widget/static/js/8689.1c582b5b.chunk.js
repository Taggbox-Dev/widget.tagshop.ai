"use strict";(self.webpackChunkembed_widget=self.webpackChunkembed_widget||[]).push([[8689],{88689:(e,n,t)=>{t.r(n),t.d(n,{default:()=>v});var a=t(9950),i=t(14478),l=t(11127),s=t(52867),r=t(80415),o=t(66345),d=t(44414);const u=a.lazy((()=>t.e(2804).then(t.bind(t,2804)))),g=a.lazy((()=>t.e(4121).then(t.bind(t,14121)))),c=a.lazy((()=>Promise.all([t.e(9580),t.e(501)]).then(t.bind(t,40501)))),h=a.lazy((()=>t.e(56).then(t.bind(t,70056)))),p=a.lazy((()=>Promise.all([t.e(8400),t.e(6337)]).then(t.bind(t,65518))));class m extends a.PureComponent{constructor(){super(),this.handleResize=()=>{this.containerRef.current&&this.setState({containerSize:{width:this.containerRef.current.offsetWidth,height:this.containerRef.current.offsetHeight}})},this.state={containerSize:{width:null,height:null},parentID:""},this.containerRef=a.createRef()}componentDidMount(){(0,s.j1)(this.props.wall.Personalization.widgetTheme),window.addEventListener("resize",this.handleResize),this.containerRef.current&&this.setState({containerSize:{width:this.containerRef.current.offsetWidth,height:this.containerRef.current.offsetHeight}})}componentWillUnmount(){window.removeEventListener("resize",this.handleResize)}componentDidUpdate(){let e=document.querySelector(".tb_app_container"),n=s.wV?s.wV:e.parentNode.id;this.setState({parentID:n})}render(){var e,n,t,i,l,s,m,v,w,f,B,S;const{wall:b,reviewFilters:j,webFilters:k,postData:x,languageSetting:z,filter_tags:_}=this.props,y=!!(b.Banner&&Object.keys(b.Banner).length>0||b.CustomBanner&&Object.keys(b.CustomBanner).length>0&&(1===(null===b||void 0===b||null===(e=b.Banner)||void 0===e?void 0:e.status)&&1===(null===b||void 0===b||null===(n=b.Banner)||void 0===n?void 0:n.banner_position)||1===(null===b||void 0===b||null===(t=b.BannerImage)||void 0===t?void 0:t.status))),R=!!(b.Banner&&Object.keys(b.Banner).length>0&&1===b.Banner.status&&2===b.Banner.banner_position),D=o.uS?![55,60,16,47,57].includes(b.Personalization.widgetTheme):![55,52,60,16,47,57,61].includes(b.Personalization.widgetTheme),I=b.Banner&&Object.keys(b.Banner).length>0&&1===b.Banner.status&&6==b.Banner.bannerType&&0===b.Personalization.filterStatus&&![57,84].includes(b.Personalization.widgetTheme),P=o.uS?1===b.Personalization.filterStatus:!!(1===b.Personalization.filterStatus&&k&&k.length>1),H=!!(_&&_.length>0);let F=""!=k&&k&&k.length>0?k.map((e=>{let{Network:n}=e;return null===n||void 0===n?void 0:n.id})):null;!o.HY&&null!==b&&void 0!==b&&null!==(i=b.Background)&&void 0!==i&&i.image&&b.Background.image.includes(r.vr)&&(b.Background.image=String(b.Background.image).replace(r.Vy,""));const T=0===(null===b||void 0===b||null===(l=b.Background)||void 0===l?void 0:l.transparent)||null!==b&&void 0!==b&&null!==(s=b.Background)&&void 0!==s&&s.image&&o.uS?{backgroundImage:null!==b&&void 0!==b&&null!==(m=b.Background)&&void 0!==m&&m.image?`url(${null===b||void 0===b||null===(v=b.Background)||void 0===v?void 0:v.image})`:"",backgroundColor:null===b||void 0===b||null===(w=b.Background)||void 0===w?void 0:w.color}:null,U=!![63,64].includes(b.Personalization.widgetTheme),C=!(1!=(null===b||void 0===b||null===(f=b.ThemeRule)||void 0===f?void 0:f.showReviewHeader)||!U);return(0,d.jsxs)("div",{className:"tb_app_container",style:{minHeight:[47,16,49,55,60,52].includes(b.Personalization.widgetTheme)?"100%":`${this.props.postHeight}px`},ref:this.containerRef,children:[y?(0,d.jsxs)(a.Suspense,{fallback:(0,d.jsx)(d.Fragment,{}),children:[" ",(0,d.jsx)(u,{Banner:b.Banner,BannerImage:b.BannerImage})]}):"",(0,d.jsxs)("div",{className:"tb_app_wrapper",style:T,children:[I&&y||C?(0,d.jsx)(a.Suspense,{fallback:(0,d.jsx)(d.Fragment,{}),children:(0,d.jsx)(g,{isHeader:C,reviewFilters:j,appendData:x.appendData,wall:b,languageSetting:z,postData:x})}):null,(null!==b&&void 0!==b&&null!==(B=b.UserRule)&&void 0!==B&&B.on_site_upload&&b.UgcSettings.onsite_status||o.Qy&&b.UgcSettings.onsite_status)&&(o.MH||o.HY&&![63,64,50].includes(b.Personalization.widgetTheme))?(0,d.jsxs)(a.Suspense,{fallback:(0,d.jsx)(d.Fragment,{}),children:[" ",(0,d.jsx)(p,{UgcSettings:b.UgcSettings,id:b.Wall.id,tagShopWallId:b.Wall.wallId})," "]}):null,D&&(P||H)?(0,d.jsxs)(a.Suspense,{fallback:(0,d.jsx)(d.Fragment,{}),children:[" ",(0,d.jsx)(c,{type:b.Personalization.filter_type,webFilters:k,filter_tags:_,appendData:x.appendData,wall:b,languageSetting:z,postData:x})]}):"",U&&1==(null===b||void 0===b||null===(S=b.ThemeRule)||void 0===S?void 0:S.showReviewList)||!U?(0,d.jsxs)(a.Suspense,{fallback:(0,d.jsx)(d.Fragment,{}),children:[" ",(0,d.jsx)(h,{...this.props,brandingNetworks:F,containerSize:this.state.containerSize,parentID:this.state.parentID})]}):null,I&&R?(0,d.jsx)(a.Suspense,{fallback:(0,d.jsx)(d.Fragment,{}),children:(0,d.jsx)(g,{isHeader:C,reviewFilters:j,appendData:x.appendData,wall:b,languageSetting:z,postData:x})}):null]}),R?(0,d.jsxs)(a.Suspense,{fallback:(0,d.jsx)(d.Fragment,{}),children:[" ",(0,d.jsx)(u,{Banner:b.Banner,BannerImage:b.BannerImage})]}):""]})}}const v=(0,l.Ng)((e=>{if(!0===e.postHeight.manage_height){return{postHeight:e.postHeight.data.replace("px",""),renderId:e.renderId}}return{renderId:e.renderId}}),(e=>({managePostHeight:n=>e((0,i.V3)(n))})))(m)}}]);