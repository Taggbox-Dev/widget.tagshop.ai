(self.webpackChunkembed_widget=self.webpackChunkembed_widget||[]).push([[9420],{79420:(t,e,i)=>{"use strict";i.r(e),i.d(e,{default:()=>h});var a=i(47313),n=i(20510),o=i.n(n),r=i(98501),s=i(46335),l=i(12279),c=i.n(l),d=i(46417);class u extends a.Component{constructor(t){super(t),this.handlePlay=()=>{this.setState({isPlaying:!0})},this.onMediaLoad=async t=>{if(t.mediaHeight&&t.mediaWidth)this.setState({mediaSize:{height:t.mediaHeight,width:t.mediaWidth}});else try{const{width:e,height:i}=await(0,s.GF)(t.postFile);this.setState({mediaSize:{height:i,width:e}})}catch(e){this.setState({mediaSize:{height:100,width:100}})}},this.state={imageError:!1,windowWidth:window.innerWidth,windowHeight:window.innerHeight,mediaSize:{height:400,width:400},animate:!1,itemData:null,isPlaying:!1}}componentDidMount(){this.onLoadAnimation()}componentDidUpdate(t){c().isEqual(t.itemData,this.props.itemData)||(this.setState({itemData:this.props.itemData,animate:!1}),this.onLoadAnimation())}onLoadAnimation(){setTimeout((()=>{this.setState({animate:!0}),this.onMediaLoad(this.props.itemData)}),1e3)}render(){const{itemData:t,wall:e}=this.props,{imageError:i,windowHeight:a,windowWidth:n,mediaSize:s,animate:l,isPlaying:c}=this.state,u=n>a?((a-400)/50).toFixed():((a/2-200)/50).toFixed(),h=1!==t.type,m=3===t.type||5===t.type;let p="".concat(t.postFile);!(!i&&""!=t.mediaFile)||1==t.type&&t.type;const f=Math.min(n/s.width,a/s.height),g=s.height*f,w=s.width*f,v={paddingBottom:"".concat(100*g/w,"%")};return t.mediaFile.includes(r.ho)&&(p=t.postFile),(0,d.jsxs)("div",{id:"spotlight__",className:"sl_container",children:[(0,d.jsx)("div",{className:"sl_overlay_ ".concat(l?"sl_media_ani":""),style:{backgroundImage:"url(".concat(p,")")}}),(0,d.jsx)("div",{className:"sl_wrap",children:(0,d.jsx)("div",{className:"sl_wrap_row sl_only_text",children:h?(0,d.jsx)("div",{className:"sl_media_wrap ".concat(l?"sl_media_ani":""),style:{maxWidth:w},children:m?(0,d.jsxs)("div",{className:"sl_media_wrap_",style:v,children:[!c&&(0,d.jsx)("img",{src:t.postFile,alt:"Video Poster",style:{position:"absolute",top:0,left:0,width:"100%",height:"100%",objectFit:"cover",cursor:"pointer",zIndex:1},onLoad:this.handlePlay}),(0,d.jsx)(o(),{url:(b=t.mediaUrl,y=t.networkId,25===y?String(b).replace("https://w.soundcloud.com/player/?url=",""):b),config:{facebook:{appId:"117029975354072",attributes:{"data-width":"auto",muted:!0,poster:t.postFile}},file:{forceVideo:!0,attributes:{muted:!0,poster:t.postFile}}},className:"sl_media_",loop:!0,autoPlay:!0,muted:!0,volume:1,playsinline:!0,playing:!0,height:"100%",width:"100%",controls:!1})]}):(0,d.jsx)("div",{className:"sl_media_wrap_",style:v,children:(0,d.jsx)("img",{className:"sl_media_",src:t.postFile,height:g,width:w})})}):null})})]});var b,y}}const h=(0,a.memo)(u)},46335:(t,e,i)=>{"use strict";i.d(e,{$t:()=>y,AB:()=>d,E6:()=>T,Fx:()=>b,GF:()=>I,P:()=>_,RD:()=>g,Rr:()=>u,Sy:()=>v,ad:()=>W,hd:()=>w,i1:()=>m,ok:()=>j,qE:()=>p,sy:()=>S,u$:()=>x,uB:()=>f,uu:()=>N,w5:()=>h});var a=i(35179),n=i(98501),o=i(70656),r=i(93517);let s=[],l=!1;const c=new Headers({"Content-Type":"application/json",Authorization:"Bearer ".concat(a.UA),Productdomain:a.yM}),d=t=>{var e;return null===(e=document.getElementById("tb_onsite_btn_id"))||void 0===e?void 0:e.classList.toggle("tb_onsite_btn_disabled",1===t)},u=t=>{var e,i;return null===(e=(i={1:()=>window.onShowDemoPost(1),2:()=>window.hendleFeeds("addFeeds"),3:()=>window.hendleFeeds("manageFeeds")})[t])||void 0===e?void 0:e.call(i)},h=t=>{const e=new Date(1e3*t);return"".concat(["January","February","March","April","May","June","July","August","September","October","November","December"][e.getMonth()]," ").concat(e.getDate(),", ").concat(e.getFullYear())},m=()=>Math.floor(1e4*Math.random()).toString().padStart(4,"0"),p=t=>{try{s.push(t)}catch(e){console.log(e)}},f=t=>t&&""!==t&&!t.includes("ui-avatars"),g=t=>{if(!t)return"0 Byte";const e=Math.floor(Math.log(t)/Math.log(1024));return{size:Math.round(t/Math.pow(1024,e),2),sizeText:["Bytes","KB","MB","GB","TB"][e]}},w=t=>t.startsWith("http://")||t.startsWith("https://")?t:"https://"+t,v=t=>{const e=Date.now()-1e3*t;if(e<6e4)return"just now";const i=[{label:"year",ms:31536e6},{label:"month",ms:2592e6},{label:"week",ms:6048e5},{label:"day",ms:864e5},{label:"hour",ms:36e5},{label:"minute",ms:6e4}].find((t=>{let{ms:i}=t;return e>=i})),a=Math.floor(e/i.ms);return"".concat(a," ").concat(i.label).concat(a>1?"s":""," ago")},b=t=>{try{return null!==t&&void 0!==t&&t.includes("http")?[...new Set(t.match(/(((ftp|https?):\/\/)[\w@:%_\+.~#?&//=]+)/g))].reduce(((t,e)=>t.replaceAll(e,'<a class="text_links_" role="link" target="_blank" href="'.concat(e,'">').concat(e,"</a>"))),t):t}catch{return t}},y=()=>["".concat(n.ZS),"Website Widget"],_=t=>t&&String(t)?unescape(t).split("/").pop().split("/").slice(-1).join().split(".").shift():"",x=["localhost","widget","wall_id="].every((t=>(0,a.F_)(t)))?"taggbox_main":a.Jx||["".concat(a.l,".").concat(a.wq),"".concat(a.l).concat(a.Bu).concat(a.wq),"".concat(a.l,"s.").concat(a.wq)].some((t=>(0,a.F_)(t)))?"tag_main__root":a.ig?"taggShopRoot":"taggbox_main",S=t=>{const e=Math.floor(Math.log10(t)/3)||0;return e?+(t/Math.pow(1e3,e)).toFixed(0)+["","K","M","B","T"][e]:t},j=t=>a.Jx?t:atob(t),F=t=>{if(null===(i=t)||void 0===i?void 0:i.startsWith("#")){const e=parseInt(t.slice(1),16);return{r:e>>16&255,g:e>>8&255,b:255&e}}{var e;const i=(null===t||void 0===t||null===(e=t.match(/\d+/g))||void 0===e?void 0:e.map(Number))||[0,0,0];return{r:i[0],g:i[1],b:i[2]}}var i},M=t=>{const{r:e,g:i,b:a}=F(t);return Math.sqrt((255-e)**2+(255-i)**2+(255-a)**2)<=30},D=t=>{const{r:e,g:i,b:a}=F(t);return Math.sqrt((e-50)**2+(i-50)**2+(a-50)**2)<50},N=(t,e)=>{var i;null!==(i=t)&&void 0!==i&&i.startsWith("rgba")&&(t="#000000");const a=(t,e)=>e.some((e=>null===t||void 0===t?void 0:t.includes(e))),n=t=>a(t,["ffffff","255, 255, 255","#fff"]),o=t=>a(t,["000000","0, 0, 0","#000"]),[r,s]=[M(t),D(t)],[l,c]=[M(e),D(e)];return r&&l||n(t)&&n(e)?"#000000":s&&c||o(t)&&o(e)?"#ffffff":t},T=(t,e,i)=>t&&t.length>0?t.findIndex((t=>t.id===e)):i,W=()=>{try{const{wall:t}=o.Z.getState().appData,{webId:e,wallId:i,ownerId:n}=t.ThemeInfo;l||(window.addEventListener("beforeunload",(()=>{if(0===s.length)return;const t=s.reduce(((t,e)=>t+e),0);t>0?fetch(a.Zl,{method:"POST",headers:c,body:JSON.stringify({action:1,model:null!==r.mV&&void 0!==r.mV&&r.mV.includes("website")?"website":"wall",playCount:s.length,wall:a.ig?e:i,playTime:t,owner:n}),keepalive:!0}).finally((()=>(s=[],l=!1))):(s=[],l=!1)})),l=!0)}catch(t){console.error(t)}},I=t=>new Promise(((e,i)=>Object.assign(new Image,{onload:function(){e({width:this.naturalWidth,height:this.naturalHeight})},onerror:t=>i(new Error("Image loading error: ".concat(t.message))),src:t})))},68624:(t,e,i)=>{var a=i(7289).Symbol;t.exports=a},18665:(t,e,i)=>{var a=i(68624),n=i(23596),o=i(78186),r=a?a.toStringTag:void 0;t.exports=function(t){return null==t?void 0===t?"[object Undefined]":"[object Null]":r&&r in Object(t)?n(t):o(t)}},2306:(t,e,i)=>{var a=i(5510),n=/^\s+/;t.exports=function(t){return t?t.slice(0,a(t)+1).replace(n,""):t}},32692:(t,e,i)=>{var a="object"==typeof i.g&&i.g&&i.g.Object===Object&&i.g;t.exports=a},23596:(t,e,i)=>{var a=i(68624),n=Object.prototype,o=n.hasOwnProperty,r=n.toString,s=a?a.toStringTag:void 0;t.exports=function(t){var e=o.call(t,s),i=t[s];try{t[s]=void 0;var a=!0}catch(l){}var n=r.call(t);return a&&(e?t[s]=i:delete t[s]),n}},78186:t=>{var e=Object.prototype.toString;t.exports=function(t){return e.call(t)}},7289:(t,e,i)=>{var a=i(32692),n="object"==typeof self&&self&&self.Object===Object&&self,o=a||n||Function("return this")();t.exports=o},5510:t=>{var e=/\s/;t.exports=function(t){for(var i=t.length;i--&&e.test(t.charAt(i)););return i}},12279:(t,e,i)=>{var a=i(91845),n=i(46170),o=i(57923),r=Math.max,s=Math.min;t.exports=function(t,e,i){var l,c,d,u,h,m,p=0,f=!1,g=!1,w=!0;if("function"!=typeof t)throw new TypeError("Expected a function");function v(e){var i=l,a=c;return l=c=void 0,p=e,u=t.apply(a,i)}function b(t){var i=t-m;return void 0===m||i>=e||i<0||g&&t-p>=d}function y(){var t=n();if(b(t))return _(t);h=setTimeout(y,function(t){var i=e-(t-m);return g?s(i,d-(t-p)):i}(t))}function _(t){return h=void 0,w&&l?v(t):(l=c=void 0,u)}function x(){var t=n(),i=b(t);if(l=arguments,c=this,m=t,i){if(void 0===h)return function(t){return p=t,h=setTimeout(y,e),f?v(t):u}(m);if(g)return clearTimeout(h),h=setTimeout(y,e),v(m)}return void 0===h&&(h=setTimeout(y,e)),u}return e=o(e)||0,a(i)&&(f=!!i.leading,d=(g="maxWait"in i)?r(o(i.maxWait)||0,e):d,w="trailing"in i?!!i.trailing:w),x.cancel=function(){void 0!==h&&clearTimeout(h),p=0,l=m=c=h=void 0},x.flush=function(){return void 0===h?u:_(n())},x}},91845:t=>{t.exports=function(t){var e=typeof t;return null!=t&&("object"==e||"function"==e)}},89752:t=>{t.exports=function(t){return null!=t&&"object"==typeof t}},72060:(t,e,i)=>{var a=i(18665),n=i(89752);t.exports=function(t){return"symbol"==typeof t||n(t)&&"[object Symbol]"==a(t)}},46170:(t,e,i)=>{var a=i(7289);t.exports=function(){return a.Date.now()}},57923:(t,e,i)=>{var a=i(2306),n=i(91845),o=i(72060),r=/^[-+]0x[0-9a-f]+$/i,s=/^0b[01]+$/i,l=/^0o[0-7]+$/i,c=parseInt;t.exports=function(t){if("number"==typeof t)return t;if(o(t))return NaN;if(n(t)){var e="function"==typeof t.valueOf?t.valueOf():t;t=n(e)?e+"":e}if("string"!=typeof t)return 0===t?t:+t;t=a(t);var i=s.test(t);return i||l.test(t)?c(t.slice(2),i?2:8):r.test(t)?NaN:+t}}}]);