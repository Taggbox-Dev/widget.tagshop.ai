"use strict";(self.webpackChunkembed_widget=self.webpackChunkembed_widget||[]).push([[8689],{88689:(e,n,t)=>{t.r(n),t.d(n,{default:()=>m});var i=t(9950),a=t(10300),l=t(52867),s=t(80415),r=t(66345),o=t(44414);const d=i.lazy((()=>t.e(2804).then(t.bind(t,2804)))),u=i.lazy((()=>t.e(4121).then(t.bind(t,14121)))),c=i.lazy((()=>t.e(693).then(t.bind(t,50693)))),h=i.lazy((()=>t.e(1422).then(t.bind(t,51422)))),p=i.lazy((()=>t.e(56).then(t.bind(t,70056)))),v=i.lazy((()=>Promise.all([t.e(8400),t.e(629)]).then(t.bind(t,30629))));class g extends i.PureComponent{constructor(){super(),this.handleResize=()=>{const e=this.containerRef.current;e&&this.setState({containerSize:{width:e.offsetWidth,height:e.offsetHeight}})},this.state={containerSize:{width:null,height:null},parentID:""},this.containerRef=i.createRef()}componentDidMount(){var e,n,t,i,a;((0,l.YD)(this.props.ThemeId),window.addEventListener("resize",this.handleResize),null!==this&&void 0!==this&&null!==(e=this.containerRef)&&void 0!==e&&e.current)&&this.setState({containerSize:{width:null===this||void 0===this||null===(n=this.containerRef)||void 0===n||null===(t=n.current)||void 0===t?void 0:t.offsetWidth,height:null===this||void 0===this||null===(i=this.containerRef)||void 0===i||null===(a=i.current)||void 0===a?void 0:a.offsetHeight}})}componentWillUnmount(){window.removeEventListener("resize",this.handleResize)}componentDidUpdate(){var e;let n=document.querySelector(".tb_app_container"),t=l.wV?l.wV:null===n||void 0===n||null===(e=n.parentNode)||void 0===e?void 0:e.id;this.setState({parentID:t})}render(){var e,n,t,a,l,g,m,k,b,f,j;const{wall:x,reviewFilters:w,webFilters:B,postData:S,filter_tags:I}=this.props,{SnapUp:z,ThemeInfo:D}=x,y=D.id,_=!(null===x||void 0===x||!x.Banner||!Object.keys(x.Banner).length||1!==(null===x||void 0===x||null===(e=x.Banner)||void 0===e?void 0:e.status)),F=!(null===x||void 0===x||!x.BannerImage||!Object.keys(x.BannerImage).length||1!==(null===x||void 0===x||null===(n=x.BannerImage)||void 0===n?void 0:n.status)),R=!!(_&&1==(null===x||void 0===x||null===(t=x.Banner)||void 0===t?void 0:t.banner_position)||F),C=!(!_||2!=(null===x||void 0===x||null===(a=x.Banner)||void 0===a?void 0:a.banner_position)),H=z.ruleStatus&&z.QrCode.status&&r.HY&&![63,64,50].includes(y),T=![55,52,60,16,47,57,61].includes(y),L=x.Banner&&Object.keys(x.Banner).length&&1===x.Banner.status&&6==x.Banner.type&&![57,84].includes(y),N=r.MH?1===x.Personalization.filterStatus:!!(r.MH&&1===x.Personalization.filterStatus&&B&&B.length>1),P=!!(I&&I.length>0);let U=""!=B&&B&&B.length?B.map((e=>{let{Network:n}=e;return null===n||void 0===n?void 0:n.id})):null;!r.HY&&null!==x&&void 0!==x&&null!==(l=x.Background)&&void 0!==l&&l.image&&x.Background.image.includes(s.vr)&&(x.Background.image=String(x.Background.image).replace(s.Vy,""));const V=1===(null===x||void 0===x||null===(g=x.Background)||void 0===g?void 0:g.status)&&84!==y?{backgroundImage:null!==x&&void 0!==x&&null!==(m=x.Background)&&void 0!==m&&m.url?`url(${null===x||void 0===x||null===(k=x.Background)||void 0===k?void 0:k.url})`:"",backgroundColor:null===x||void 0===x||null===(b=x.Background)||void 0===b?void 0:b.color}:null,M=!![63,64].includes(y),O=!(1!=(null===x||void 0===x||null===(f=x.Reviews)||void 0===f?void 0:f.headerStatus)||!M),W=L&&R||O,Y=r.aD&&!r.Vn&&1===(null===(j=x.CustomTicker)||void 0===j?void 0:j.status),E=!r.aD&&T&&(N||P)&&84!==y,$=M&&1==x.Reviews.themeStatus||!M;return(0,o.jsxs)("div",{className:"tb_app_container",style:{minHeight:r.yR?[47,16,49,55,60,52].includes(y)?"100%":`${this.props.postHeight}px`:null},ref:this.containerRef,children:[Y&&1==x.CustomTicker.ticker_position?(0,o.jsx)(i.Suspense,{fallback:(0,o.jsx)(o.Fragment,{}),children:(0,o.jsx)(c,{CustomTicker:x.CustomTicker})}):null,R?(0,o.jsx)(i.Suspense,{fallback:(0,o.jsx)(o.Fragment,{}),children:(0,o.jsx)(d,{Banner:x.Banner,BannerImage:x.BannerImage,LogoImage:x.LogoImage})}):"",(0,o.jsxs)("div",{className:"tb_app_wrapper",style:V,children:[W?(0,o.jsx)(i.Suspense,{fallback:(0,o.jsx)(o.Fragment,{}),children:(0,o.jsx)(u,{isHeader:O,reviewFilters:w,appendData:S.appendData,wall:x,postData:S})}):null,H?(0,o.jsxs)(i.Suspense,{fallback:(0,o.jsx)(o.Fragment,{}),children:[" ",(0,o.jsx)(v,{SnapUp:x.SnapUp,id:y,webId:D.webId})," "]}):null,E?(0,o.jsxs)(i.Suspense,{fallback:(0,o.jsx)(o.Fragment,{}),children:[" ",(0,o.jsx)(h,{type:x.Personalization.filter_type,webFilters:B,filter_tags:I,appendData:S.appendData,wall:x,postData:S})]}):"",$?(0,o.jsx)(i.Suspense,{fallback:(0,o.jsx)(o.Fragment,{}),children:(0,o.jsx)(p,{...this.props,brandingNetworks:U,containerSize:this.state.containerSize,parentID:this.state.parentID})}):null,L&&C?(0,o.jsx)(i.Suspense,{fallback:(0,o.jsx)(o.Fragment,{}),children:(0,o.jsx)(u,{reviewFilters:w,appendData:S.appendData,wall:x,postData:S})}):null," "]}),C?(0,o.jsx)(i.Suspense,{fallback:(0,o.jsx)(o.Fragment,{}),children:(0,o.jsx)(d,{Banner:x.Banner,BannerImage:x.BannerImage,LogoImage:x.LogoImage})}):"",Y&&2==x.CustomTicker.ticker_position?(0,o.jsx)(i.Suspense,{fallback:(0,o.jsx)(o.Fragment,{}),children:(0,o.jsx)(c,{CustomTicker:x.CustomTicker})}):null]})}}const m=(0,a.Ng)((e=>({renderId:e.renderId})),null)(g)}}]);