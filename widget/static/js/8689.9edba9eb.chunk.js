"use strict";(self.webpackChunkembed_widget=self.webpackChunkembed_widget||[]).push([[8689],{88689:(e,n,t)=>{t.r(n),t.d(n,{default:()=>m});var a=t(9950),i=t(10300),s=t(52867),r=t(80415),l=t(66345),o=t(44414);const d=a.lazy((()=>t.e(2804).then(t.bind(t,2804)))),u=a.lazy((()=>t.e(4121).then(t.bind(t,14121)))),c=a.lazy((()=>t.e(693).then(t.bind(t,50693)))),p=a.lazy((()=>t.e(1422).then(t.bind(t,51422)))),h=a.lazy((()=>t.e(56).then(t.bind(t,70056)))),g=a.lazy((()=>Promise.all([t.e(8400),t.e(629)]).then(t.bind(t,30629))));class v extends a.PureComponent{constructor(){super(),this.updateContainerSize=()=>{this.containerRef.current&&this.setState({containerSize:{width:this.containerRef.current.offsetWidth,height:this.containerRef.current.offsetHeight}})},this.state={containerSize:{width:null,height:null},parentID:""},this.containerRef=a.createRef(),this.resizeObserver=null}componentDidMount(){(0,s.YD)(this.props.ThemeId),this.updateContainerSize(),this.containerRef.current&&(this.resizeObserver=new ResizeObserver(this.updateContainerSize),this.resizeObserver.observe(this.containerRef.current))}componentWillUnmount(){this.resizeObserver&&this.resizeObserver.disconnect()}componentDidUpdate(){var e;let n=document.querySelector(".tb_app_container"),t=s.wV?s.wV:null===n||void 0===n||null===(e=n.parentNode)||void 0===e?void 0:e.id;this.setState({parentID:t})}render(){var e,n,t,i,s,v,m,b,k,j,f;const{wall:x,reviewFilters:B,webFilters:S,postData:w,filter_tags:z}=this.props,{containerSize:I,parentID:D}=this.state,{SnapUp:y,ThemeInfo:C}=x,_=C.id,F=!(null===x||void 0===x||!x.Banner||!Object.keys(x.Banner).length||1!==(null===x||void 0===x||null===(e=x.Banner)||void 0===e?void 0:e.status)),R=!(null===x||void 0===x||!x.BannerImage||!Object.keys(x.BannerImage).length||1!==(null===x||void 0===x||null===(n=x.BannerImage)||void 0===n?void 0:n.status)),O=!!(F&&1==(null===x||void 0===x||null===(t=x.Banner)||void 0===t?void 0:t.banner_position)||R),T=!(!F||2!=(null===x||void 0===x||null===(i=x.Banner)||void 0===i?void 0:i.banner_position)),H=y.ruleStatus&&y.QrCode.status&&l.HY&&![63,64,50].includes(_),N=![55,52,60,16,47,57,61].includes(_),P=x.Banner&&Object.keys(x.Banner).length&&1===x.Banner.status&&6==x.Banner.type&&![57,84].includes(_),U=l.MH?1===x.Personalization.filterStatus:!!(l.MH&&1===x.Personalization.filterStatus&&S&&S.length>1),L=!!(z&&z.length>0);let V=""!=S&&S&&S.length?S.map((e=>{let{Network:n}=e;return null===n||void 0===n?void 0:n.id})):null;!l.HY&&null!==x&&void 0!==x&&null!==(s=x.Background)&&void 0!==s&&s.image&&x.Background.image.includes(r.vr)&&(x.Background.image=String(x.Background.image).replace(r.Vy,""));const M=1===(null===x||void 0===x||null===(v=x.Background)||void 0===v?void 0:v.status)&&84!==_?{backgroundImage:null!==x&&void 0!==x&&null!==(m=x.Background)&&void 0!==m&&m.url?`url(${null===x||void 0===x||null===(b=x.Background)||void 0===b?void 0:b.url})`:"",backgroundColor:null===x||void 0===x||null===(k=x.Background)||void 0===k?void 0:k.color}:null,Y=!![63,64].includes(_),W=!(1!=(null===x||void 0===x||null===(j=x.Reviews)||void 0===j?void 0:j.headerStatus)||!Y),$=P&&O||W,q=l.aD&&!l.Vn&&1===(null===(f=x.CustomTicker)||void 0===f?void 0:f.status),Q=!l.aD&&N&&(U||L)&&84!==_,A=Y&&1==x.Reviews.themeStatus||!Y;return(0,o.jsxs)("div",{className:"tb_app_container",style:{minHeight:l.yR?[47,16,49,55,60,52].includes(_)?"100%":`${this.props.postHeight}px`:null},ref:this.containerRef,children:[q&&1==x.CustomTicker.ticker_position?(0,o.jsx)(a.Suspense,{fallback:(0,o.jsx)(o.Fragment,{}),children:(0,o.jsx)(c,{CustomTicker:x.CustomTicker})}):null,O?(0,o.jsx)(a.Suspense,{fallback:(0,o.jsx)(o.Fragment,{}),children:(0,o.jsx)(d,{Banner:x.Banner,BannerImage:x.BannerImage,LogoImage:x.LogoImage})}):"",(0,o.jsxs)("div",{className:"tb_app_wrapper",style:M,children:[$?(0,o.jsx)(a.Suspense,{fallback:(0,o.jsx)(o.Fragment,{}),children:(0,o.jsx)(u,{isHeader:W,reviewFilters:B,appendData:w.appendData,wall:x,postData:w})}):null,H?(0,o.jsxs)(a.Suspense,{fallback:(0,o.jsx)(o.Fragment,{}),children:[" ",(0,o.jsx)(g,{SnapUp:x.SnapUp,id:_,webId:C.webId})," "]}):null,Q?(0,o.jsxs)(a.Suspense,{fallback:(0,o.jsx)(o.Fragment,{}),children:[" ",(0,o.jsx)(p,{type:x.Personalization.filter_type,webFilters:S,filter_tags:z,appendData:w.appendData,wall:x,postData:w})]}):"",A?(0,o.jsx)(a.Suspense,{fallback:(0,o.jsx)(o.Fragment,{}),children:(0,o.jsx)(h,{...this.props,brandingNetworks:V,containerSize:I,parentID:D})}):null,P&&T?(0,o.jsx)(a.Suspense,{fallback:(0,o.jsx)(o.Fragment,{}),children:(0,o.jsx)(u,{reviewFilters:B,appendData:w.appendData,wall:x,postData:w})}):null," "]}),T?(0,o.jsx)(a.Suspense,{fallback:(0,o.jsx)(o.Fragment,{}),children:(0,o.jsx)(d,{Banner:x.Banner,BannerImage:x.BannerImage,LogoImage:x.LogoImage})}):"",q&&2==x.CustomTicker.ticker_position?(0,o.jsx)(a.Suspense,{fallback:(0,o.jsx)(o.Fragment,{}),children:(0,o.jsx)(c,{CustomTicker:x.CustomTicker})}):null]})}}const m=(0,i.Ng)((e=>({renderId:e.renderId})),null)(v)}}]);