"use strict";(self.webpackChunkembed_widget=self.webpackChunkembed_widget||[]).push([[4503],{4503:(e,t,r)=>{r.r(t),r.d(t,{default:()=>p});var a=r(47313),o=r(98501),n=r(35179),s=r(46335),l=r(46417);const i=a.lazy((()=>Promise.all([r.e(7914),r.e(485)]).then(r.bind(r,10485)))),c=a.lazy((()=>Promise.all([r.e(3346),r.e(7210)]).then(r.bind(r,37210)))),d=a.lazy((()=>Promise.all([r.e(3346),r.e(5232)]).then(r.bind(r,85232)))),h={1:"@",2:"#",3:"List ",4:"@",5:"Advanced ",6:"Location ",7:"@",8:"Page ",9:"Page ",10:"Group ",11:"Playlist ",12:"Board ",13:"URL ",14:"Event ",16:"Mention ",22:"Workplace ",23:"@",24:"@",25:"@",26:"#",65:"Album",67:"Page",53:"Group ",54:"Topic ",55:"Page",33:"Place ",63:"Search ",64:"Sticker "},u=a.memo((e=>{var t;let{error:r,wall:i}=e,u=r.errorWithMessage,p=!!window.editor||window.location.pathname.includes("/editor");const m="tagembed"==(null===i||void 0===i||null===(t=i.User)||void 0===t?void 0:t.userDatabaseType)||o.VP;if(u)return u&&Object.keys(u).length?"VISITOR_LIMIT_EXCEEDED"==u.type?(0,l.jsx)(a.Suspense,{fallback:(0,l.jsx)(l.Fragment,{}),children:(0,l.jsx)(d,{title:"Page Views Limit Exceeded",description:"Oops! Seems Page Views Limit for the plan exceeded. If you are the owner of this Taggbox account, please click below link to access your account.",button:'<a href="'.concat(m?n.xq:o._r,'" target="_blank" class="tb_error_btn_primary">Update Now</a>')})}):(0,l.jsxs)(a.Suspense,{fallback:(0,l.jsx)(l.Fragment,{}),children:[(0,l.jsx)(d,{title:null!==u&&void 0!==u&&u.message?u.message:"Wall Not exist",description:"Oops! Seems like something went wrong. If you are the owner of this Taggbox account, please click below link to access your account.",button:'<a href = "'.concat(m?n.xq:o._r,'" target = "_blank" class="tb_error_btn_primary"> Access Now</a > ')})," "]}):null;if(r.planLimit)return(0,l.jsxs)(a.Suspense,{fallback:(0,l.jsx)(l.Fragment,{}),children:[(0,l.jsx)(d,{title:"You're Running Extra Widgets/Feeds!",description:"To enjoy uninterrupted services, kindly revoke the additional widget / feed or upgrade your plan.",button:'<a href="'.concat(o._r,'" target="_blank" class="tb_error_btn_primary">Update Now</a>')})," "]});if(!r.themeError||!Object.keys(r.themeError).length)return u&&Object.keys(u).length?(0,l.jsx)(c,{error:r}):null;switch(r.themeError.error_code){case 201:return(0,l.jsx)(a.Suspense,{fallback:(0,l.jsx)(l.Fragment,{}),children:(0,l.jsx)(c,{...r.themeError,wall:i,editor:p,title:"No Posts!",description:"If the Moderation is ON, approve the posts from the moderation section to make them appear on your widget. Else, there won\u2019t be any posts on your added feeds."})});case 202:return(0,l.jsx)(a.Suspense,{fallback:(0,l.jsx)(l.Fragment,{}),children:(0,l.jsx)(c,{...r.themeError,wall:i,editor:p,title:"No Feeds!",description:"Seems like you have not added any feed. Kindly add feed from your preferred social network"})});case 203:return(0,l.jsx)(a.Suspense,{fallback:(0,l.jsx)(l.Fragment,{}),children:(0,l.jsx)(c,{...r.themeError,wall:i,editor:p,title:"Feed Not Activated!",description:'Looks like your feed status is off. <a href="'.concat(o._r,"/wall/index/").concat(i.Wall.id,'" target="blank">Click here</a> to turn the status on! Or add another feed')})});case 204:case 205:return(0,l.jsx)(a.Suspense,{fallback:(0,l.jsx)(l.Fragment,{}),children:(0,l.jsx)(c,{...r.themeError,wall:i,editor:p,title:"No Tweets/Posts!",description:'Currently, No Tweets/Posts are available on the entered <div class="tb_error_highlight">'.concat(h[r.themeError.older_post]," ").concat(r.themeError.older_days,"</div>. The new Tweets/Posts will start appearing here.")})});case 206:return(0,l.jsx)(a.Suspense,{fallback:(0,l.jsx)(l.Fragment,{}),children:(0,l.jsx)(c,{...r.themeError,wall:i,editor:p,title:"No Tweets!",description:'No Tweets are available on the entered <div class="tb_error_highlight">'.concat(h[r.themeError.older_post]," ").concat(r.themeError.older_days,"</div> All the upcoming tweets will appear here. <br>The Tweets are older than your chosen ").concat(2===r.themeError.older_post?7:1===r.themeError.older_post?30:null," days.")})});case 207:return(0,l.jsx)(a.Suspense,{fallback:(0,l.jsx)(l.Fragment,{}),children:(0,l.jsx)(c,{...r.themeError,wall:i,editor:p,title:"No Posts!",description:'It appears that all your posts are private. Please go to <a href="'.concat(o._r,"moderation/index/").concat(i.Wall.id,'" target="_blank" rel="noopener noreferrer">Moderation</a> and make them public.')})});case 208:return(0,l.jsx)(a.Suspense,{fallback:(0,l.jsx)(l.Fragment,{}),children:(0,l.jsx)(c,{...r.themeError,wall:i,editor:p,title:"No Posts!",description:"It appears that the available posts are older than your chosen ".concat(8!==r.themeError.older_days?r.themeError.older_days+" Days":(0,s.w5)(r.themeError.older_post),". All the new posts will start to appear here.")})});case 209:return(0,l.jsx)(a.Suspense,{fallback:(0,l.jsx)(l.Fragment,{}),children:(0,l.jsx)(c,{...r.themeError,wall:i,editor:p,title:"No Posts!",description:"It appears that there are no posts available with images or videos. The theme doesn\u2019t support text content."})});case 211:return(0,l.jsx)(a.Suspense,{fallback:(0,l.jsx)(l.Fragment,{}),children:(0,l.jsx)(c,{...r.themeError,wall:i,editor:p,title:"No Posts!",description:"No posts are available on the entered ".concat(h[r.themeError.older_post]," ").concat(r.themeError.older_days,". All Upcoming posts will appear here.")})});case 212:return(0,l.jsx)(a.Suspense,{fallback:(0,l.jsx)(l.Fragment,{}),children:(0,l.jsx)(c,{...r.themeError,wall:i,editor:p,title:"No Posts!",description:"Only new posts from Instagram ".concat(h[r.themeError.older_post]," ").concat(r.themeError.older_days," will appear here. Existing posts from Instagram ").concat(h[r.themeError.older_post]," ").concat(r.themeError.older_days," can not be retrieved.")})});case 213:return(0,l.jsx)(a.Suspense,{fallback:(0,l.jsx)(l.Fragment,{}),children:(0,l.jsx)(c,{...r.themeError,wall:i,error:r,editor:p,title:"Your Social ".concat(n.P2?"Embed":""," wall is Inactive."),description:"To enhance your ".concat(n.P2?"website":"event"," experience, re-activate your Social wall now"),utm:"feedinactive"})});default:return""}}));class p extends a.PureComponent{render(){var e,t;const r={backgroundImage:"url(".concat(o.do,"/media/error/nopost.png)")},{error:s,wall:c}=this.props,d=new URLSearchParams(window.location.search).get("preview"),h="tagembed"==(null===c||void 0===c||null===(e=c.User)||void 0===e?void 0:e.userDatabaseType)||o.VP;return(0,l.jsxs)(l.Fragment,{children:[d?document.body.classList.add("tb_previw-error"):null,(0,l.jsxs)("div",{className:"tb_error_page ".concat(n.P2?"":"tb_wall_error"," tb_error_theme_").concat(null!=c&&c?null===c||void 0===c?void 0:c.ThemeInfo.id:"wall_error"," ").concat(h?"tb_tagEmbed":""," ").concat(n.ig?"tb_tagshop":""),children:[(0,l.jsx)("div",{className:"tb_error_page_bg",style:r,children:" "}),c&&Object.keys(c).length&&c.UserRule.on_site_upload&&null!==c&&void 0!==c&&null!==(t=c.SnapUp)&&void 0!==t&&t.Form.status?(0,l.jsx)("div",{className:"tb_error_onsite_btn",children:(0,l.jsx)(a.Suspense,{fallback:(0,l.jsx)(l.Fragment,{}),children:(0,l.jsx)(i,{SnapUp:c.SnapUp,id:c.Wall.id,tagShopWallId:null===c||void 0===c?void 0:c.ThemeInfo.wallId})})}):null,(0,l.jsx)(u,{error:s,wall:c})]})]})}}},46335:(e,t,r)=>{r.d(t,{$t:()=>_,AB:()=>d,E6:()=>F,Fx:()=>f,GF:()=>T,P:()=>x,RD:()=>g,Rr:()=>h,Sy:()=>w,ad:()=>I,hd:()=>b,ok:()=>j,qE:()=>p,sy:()=>y,u$:()=>v,uB:()=>m,uu:()=>P,w5:()=>u});var a=r(35179),o=r(98501),n=r(70656),s=r(93517);let l=[],i=!1;const c=new Headers({"Content-Type":"application/json",Authorization:"Bearer ".concat(a.UA),Productdomain:a.yM}),d=e=>{var t;return null===(t=document.getElementById("tb_onsite_btn_id"))||void 0===t?void 0:t.classList.toggle("tb_onsite_btn_disabled",1===e)},h=e=>{var t,r;return null===(t=(r={1:()=>window.onShowDemoPost(1),2:()=>window.hendleFeeds("addFeeds"),3:()=>window.hendleFeeds("manageFeeds")})[e])||void 0===t?void 0:t.call(r)},u=e=>{const t=new Date(1e3*e);return"".concat(["January","February","March","April","May","June","July","August","September","October","November","December"][t.getMonth()]," ").concat(t.getDate(),", ").concat(t.getFullYear())},p=e=>{try{l.push(e)}catch(t){console.log(t)}},m=e=>e&&""!==e&&!e.includes("ui-avatars"),g=e=>{if(!e)return"0 Byte";const t=Math.floor(Math.log(e)/Math.log(1024));return{size:Math.round(e/Math.pow(1024,t),2),sizeText:["Bytes","KB","MB","GB","TB"][t]}},b=e=>e.startsWith("http://")||e.startsWith("https://")?e:"https://"+e,w=e=>{const t=Date.now()-1e3*e;if(t<6e4)return"just now";const r=[{label:"year",ms:31536e6},{label:"month",ms:2592e6},{label:"week",ms:6048e5},{label:"day",ms:864e5},{label:"hour",ms:36e5},{label:"minute",ms:6e4}].find((e=>{let{ms:r}=e;return t>=r})),a=Math.floor(t/r.ms);return"".concat(a," ").concat(r.label).concat(a>1?"s":""," ago")},f=e=>{try{return null!==e&&void 0!==e&&e.includes("http")?[...new Set(e.match(/(((ftp|https?):\/\/)[\w@:%_\+.~#?&//=]+)/g))].reduce(((e,t)=>e.replaceAll(t,'<a class="text_links_" role="link" target="_blank" href="'.concat(t,'">').concat(t,"</a>"))),e):e}catch{return e}},_=()=>["".concat(o.ZS),"Website Widget"],x=e=>e&&String(e)?unescape(e).split("/").pop().split("/").slice(-1).join().split(".").shift():"",v=["localhost","widget","wall_id="].every((e=>(0,a.F_)(e)))?"taggbox_main":a.Jx||["".concat(a.l,".").concat(a.wq),"".concat(a.l).concat(a.Bu).concat(a.wq),"".concat(a.l,"s.").concat(a.wq)].some((e=>(0,a.F_)(e)))?"tag_main__root":a.ig?"taggShopRoot":"taggbox_main",y=e=>{const t=Math.floor(Math.log10(e)/3)||0;return t?+(e/Math.pow(1e3,t)).toFixed(0)+["","K","M","B","T"][t]:e},j=e=>a.Jx?e:atob(e),k=e=>{if(null===(r=e)||void 0===r?void 0:r.startsWith("#")){const t=parseInt(e.slice(1),16);return{r:t>>16&255,g:t>>8&255,b:255&t}}{var t;const r=(null===e||void 0===e||null===(t=e.match(/\d+/g))||void 0===t?void 0:t.map(Number))||[0,0,0];return{r:r[0],g:r[1],b:r[2]}}var r},E=e=>{const{r:t,g:r,b:a}=k(e);return Math.sqrt((255-t)**2+(255-r)**2+(255-a)**2)<=30},S=e=>{const{r:t,g:r,b:a}=k(e);return Math.sqrt((t-50)**2+(r-50)**2+(a-50)**2)<50},P=(e,t)=>{var r;null!==(r=e)&&void 0!==r&&r.startsWith("rgba")&&(e="#000000");const a=(e,t)=>t.some((t=>null===e||void 0===e?void 0:e.includes(t))),o=e=>a(e,["ffffff","255, 255, 255","#fff"]),n=e=>a(e,["000000","0, 0, 0","#000"]),[s,l]=[E(e),S(e)],[i,c]=[E(t),S(t)];return s&&i||o(e)&&o(t)?"#000000":l&&c||n(e)&&n(t)?"#ffffff":e},F=(e,t,r)=>e&&e.length>0?e.findIndex((e=>e.id===t)):r,I=()=>{try{const{wall:e}=n.Z.getState().appData,{webId:t,wallId:r,ownerId:o}=e.ThemeInfo;i||(window.addEventListener("beforeunload",(()=>{if(0===l.length)return;const e=l.reduce(((e,t)=>e+t),0);e>0?fetch(a.Zl,{method:"POST",headers:c,body:JSON.stringify({action:1,model:null!==s.mV&&void 0!==s.mV&&s.mV.includes("website")?"website":"wall",playCount:l.length,wall:a.ig?t:r,playTime:e,owner:o}),keepalive:!0}).finally((()=>(l=[],i=!1))):(l=[],i=!1)})),i=!0)}catch(e){console.error(e)}},T=e=>new Promise(((t,r)=>Object.assign(new Image,{onload:function(){t({width:this.naturalWidth,height:this.naturalHeight})},onerror:e=>r(new Error("Image loading error: ".concat(e.message))),src:e})))}}]);