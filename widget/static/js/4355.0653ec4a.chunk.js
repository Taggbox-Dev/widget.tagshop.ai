"use strict";(self.webpackChunkembed_widget=self.webpackChunkembed_widget||[]).push([[4355],{44355:(e,n,t)=>{t.r(n),t.d(n,{default:()=>m});var i=t(47313),a=t(65537),l=t(17739),s=t(98501),r=t(35179),o=t(46417);const d=i.lazy((()=>t.e(7535).then(t.bind(t,37535)))),u=i.lazy((()=>t.e(260).then(t.bind(t,50260)))),c=i.lazy((()=>t.e(1027).then(t.bind(t,21027)))),p=i.lazy((()=>t.e(9093).then(t.bind(t,59093)))),h=i.lazy((()=>t.e(8534).then(t.bind(t,18534)))),v=i.lazy((()=>Promise.all([t.e(7914),t.e(485)]).then(t.bind(t,10485))));class g extends i.PureComponent{constructor(){super(),this.updateContainerSize=()=>{this.containerRef.current&&this.setState({containerSize:{width:this.containerRef.current.offsetWidth,height:this.containerRef.current.offsetHeight}})},this.state={containerSize:{width:null,height:null},parentID:""},this.containerRef=i.createRef()}componentDidMount(){var e,n;((0,l.yf)(this.props.ThemeId),this.updateContainerSize(),window.addEventListener("resize",this.updateContainerSize),this.containerRef.current,this.observer=new IntersectionObserver((e=>{let[n]=e;n.isIntersecting&&((0,l.IR)(),this.observer.disconnect())}),{threshold:.002}),null!==this&&void 0!==this&&null!==(e=this.containerRef)&&void 0!==e&&e.current)&&this.observer.observe(null===this||void 0===this||null===(n=this.containerRef)||void 0===n?void 0:n.current)}componentWillUnmount(){window.removeEventListener("resize",this.updateContainerSize)}componentDidUpdate(){var e;let n=document.querySelector(".tb_app_container"),t=l.b8?l.b8:null===n||void 0===n||null===(e=n.parentNode)||void 0===e?void 0:e.id;this.setState({parentID:t})}render(){var e,n,t,a,l,g,m,b,k,f,j;const{wall:x,reviewFilters:S,webFilters:B,postData:w,filter_tags:I}=this.props,{containerSize:z,parentID:y}=this.state,{SnapUp:D,ThemeInfo:C}=x,_=C.id,F=!(null===x||void 0===x||!x.Banner||!Object.keys(x.Banner).length||1!==(null===x||void 0===x||null===(e=x.Banner)||void 0===e?void 0:e.status)),R=!(null===x||void 0===x||!x.BannerImage||!Object.keys(x.BannerImage).length||1!==(null===x||void 0===x||null===(n=x.BannerImage)||void 0===n?void 0:n.status)),T=!!(F&&1==(null===x||void 0===x||null===(t=x.Banner)||void 0===t?void 0:t.banner_position)||R),L=!(!F||2!=(null===x||void 0===x||null===(a=x.Banner)||void 0===a?void 0:a.banner_position)),P=D.ruleStatus&&r.ig&&![63,64,50].includes(_),N=![55,52,60,16,47,57,61].includes(_),O=x.Banner&&Object.keys(x.Banner).length&&1===x.Banner.status&&6==x.Banner.type&&![57,84].includes(_),U=r.Jx?1===x.Personalization.filterStatus:!!(r.Jx&&1===x.Personalization.filterStatus&&B&&B.length>1),H=!!(I&&I.length>0);let E=""!=B&&B&&B.length?B.map((e=>{let{Network:n}=e;return null===n||void 0===n?void 0:n.id})):null;!r.ig&&null!==x&&void 0!==x&&null!==(l=x.Background)&&void 0!==l&&l.image&&x.Background.image.includes(s.ho)&&(x.Background.image=String(x.Background.image).replace(s.lO,""));const J=1===(null===x||void 0===x||null===(g=x.Background)||void 0===g?void 0:g.status)&&84!==_?{backgroundImage:null!==x&&void 0!==x&&null!==(m=x.Background)&&void 0!==m&&m.url?"url(".concat(null===x||void 0===x||null===(b=x.Background)||void 0===b?void 0:b.url,")"):"",backgroundColor:null===x||void 0===x||null===(k=x.Background)||void 0===k?void 0:k.color}:null,W=!![63,64].includes(_),X=!(1!=(null===x||void 0===x||null===(f=x.Reviews)||void 0===f?void 0:f.headerStatus)||!W),q=O&&T||X,M=r.bX&&!r.aL&&1===(null===(j=x.CustomTicker)||void 0===j?void 0:j.status),$=!r.bX&&N&&(U||H)&&84!==_,A=W&&1==x.Reviews.themeStatus||!W;return(0,o.jsxs)("div",{className:"tb_app_container",style:{minHeight:r.P2?[47,16,49,55,60,52].includes(_)?"100%":"".concat(this.props.postHeight,"px"):null},ref:this.containerRef,children:[M&&1==x.CustomTicker.ticker_position?(0,o.jsx)(i.Suspense,{fallback:(0,o.jsx)(o.Fragment,{}),children:(0,o.jsx)(c,{CustomTicker:x.CustomTicker})}):null,T?(0,o.jsx)(i.Suspense,{fallback:(0,o.jsx)(o.Fragment,{}),children:(0,o.jsx)(d,{Banner:x.Banner,BannerImage:x.BannerImage,LogoImage:x.LogoImage})}):"",(0,o.jsxs)("div",{className:"tb_app_wrapper",style:J,children:[q?(0,o.jsx)(i.Suspense,{fallback:(0,o.jsx)(o.Fragment,{}),children:(0,o.jsx)(u,{isHeader:X,reviewFilters:S,appendData:w.appendData,wall:x,postData:w})}):null,P?(0,o.jsxs)(i.Suspense,{fallback:(0,o.jsx)(o.Fragment,{}),children:[" ",(0,o.jsx)(v,{SnapUp:x.SnapUp,id:_,webId:C.webId})," "]}):null,$?(0,o.jsxs)(i.Suspense,{fallback:(0,o.jsx)(o.Fragment,{}),children:[" ",(0,o.jsx)(p,{type:x.Personalization.filter_type,webFilters:B,filter_tags:I,appendData:w.appendData,wall:x,postData:w})]}):"",A?(0,o.jsx)(i.Suspense,{fallback:(0,o.jsx)(o.Fragment,{}),children:(0,o.jsx)(h,{...this.props,brandingNetworks:E,containerSize:z,parentID:y})}):null,O&&L?(0,o.jsx)(i.Suspense,{fallback:(0,o.jsx)(o.Fragment,{}),children:(0,o.jsx)(u,{reviewFilters:S,appendData:w.appendData,wall:x,postData:w})}):null," "]}),L?(0,o.jsx)(i.Suspense,{fallback:(0,o.jsx)(o.Fragment,{}),children:(0,o.jsx)(d,{Banner:x.Banner,BannerImage:x.BannerImage,LogoImage:x.LogoImage})}):"",M&&2==x.CustomTicker.ticker_position?(0,o.jsx)(i.Suspense,{fallback:(0,o.jsx)(o.Fragment,{}),children:(0,o.jsx)(c,{CustomTicker:x.CustomTicker})}):null]})}}const m=(0,a.$j)((e=>({renderId:e.renderId})),null)(g)}}]);