"use strict";(self.webpackChunkembed_widget=self.webpackChunkembed_widget||[]).push([[6696],{36696:(e,t,d)=>{d.r(t),d.d(t,{default:()=>h});var a=d(47313),i=d(20510),s=d.n(i),o=d(35179),l=d(46335),n=d(46417);class h extends a.PureComponent{constructor(e){super(e),this.setVideoLoaded=e=>{this.setState({videoLoaded:e})},this.muteToggle=()=>{this.setState({muted:!this.state.muted})},this.onUpdateTime=e=>{try{if(o.ig){const{played:t}=this.state;this.setState({played:t+e.playedSeconds})}}catch(t){console.log(t)}},this.state={videoLoaded:!1,muted:!0,played:0},this.VideoWrap=a.createRef()}componentWillUnmount(){const{played:e}=this.state;o.ig&&(0,l.qE)(e)}render(){const{Post:e,mediaSize:t}=this.props,{videoLoaded:d,muted:a}=this.state,{media:i,id:o,link:l,networkId:h}=e,m=![7,3,25].includes(e.networkId),{height:c,width:r}=t;return(0,n.jsxs)("div",{className:"tb_post_modal_video_holder".concat(d?" tb_post_video_loaded":""),ref:this.VideoWrap,children:[m?(0,n.jsx)("div",{className:"tb_m_mute_btn",onClick:this.muteToggle,children:(0,n.jsx)("div",{className:"tb__icon tb-".concat(a?"mute":"unmute"),children:(0,n.jsx)("div",{})})}):"",(0,n.jsx)(s(),{className:"tb_post_modal_video tb_p_media-".concat(o),url:i.video.full,"data-height":c,"data-width":r,"data-type":"video","data-network":h,"data-link":l,"data-item-id":o,"data-load":0,config:{facebook:{appId:"117029975354072",attributes:{"data-width":r,"data-height":c,poster:i.image.small,muted:a}},file:{attributes:{preload:"metadata",poster:i.image.small,muted:a}}},loop:!0,autoPlay:!0,muted:a,volume:1,playsinline:!0,onReady:e=>{this.setVideoLoaded(!0)},playing:!0,height:"100%",width:"100%",controls:!m,onProgress:this.onUpdateTime}),d?null:(0,n.jsx)("div",{className:"tb_post_modal_spinner",children:(0,n.jsx)("div",{})})]},i.video.full)}}}}]);