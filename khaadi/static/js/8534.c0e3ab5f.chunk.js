"use strict";(self.webpackChunkembed_widget=self.webpackChunkembed_widget||[]).push([[8534],{18534:(e,n,t)=>{t.r(n),t.d(n,{default:()=>H});var a=t(47313),s=t(43411),l=t(34862),i=t(17739),o=t(98501),r=t(43635),d=t(35179),c=t(46417);const p=a.lazy((()=>t.e(8257).then(t.bind(t,28257)))),h=a.lazy((()=>t.e(3779).then(t.bind(t,3779)))),u=a.lazy((()=>Promise.all([t.e(6119),t.e(510),t.e(6390),t.e(8816),t.e(6158),t.e(2817)]).then(t.bind(t,16977)))),m=a.lazy((()=>Promise.all([t.e(6119),t.e(510),t.e(8816),t.e(6158),t.e(5452)]).then(t.bind(t,29146)))),g=a.lazy((()=>Promise.all([t.e(6119),t.e(510),t.e(6390),t.e(8816),t.e(6158),t.e(3765)]).then(t.bind(t,71325)))),w=a.lazy((()=>Promise.all([t.e(6119),t.e(510),t.e(6390),t.e(8816),t.e(6158),t.e(4119)]).then(t.bind(t,18017)))),x=a.lazy((()=>t.e(271).then(t.bind(t,30271)))),S=a.lazy((()=>Promise.all([t.e(6119),t.e(510),t.e(6390),t.e(6158),t.e(2314)]).then(t.bind(t,95136)))),j=a.lazy((()=>Promise.all([t.e(6119),t.e(6390),t.e(8816),t.e(6158),t.e(1960)]).then(t.bind(t,12465)))),b=a.lazy((()=>Promise.all([t.e(6119),t.e(510),t.e(1774),t.e(7914),t.e(6158),t.e(5672),t.e(16)]).then(t.bind(t,91744)))),P=a.lazy((()=>t.e(5598).then(t.bind(t,15598)))),k=a.lazy((()=>Promise.all([t.e(6119),t.e(510),t.e(6520),t.e(6158),t.e(1440)]).then(t.bind(t,99154)))),f=a.lazy((()=>Promise.all([t.e(6119),t.e(510),t.e(6390),t.e(6520),t.e(5555)]).then(t.bind(t,81750)))),D=a.lazy((()=>Promise.all([t.e(6119),t.e(510),t.e(1774),t.e(6158),t.e(5672),t.e(82)]).then(t.bind(t,76254)))),I=a.lazy((()=>Promise.all([t.e(6119),t.e(510),t.e(6390),t.e(1774),t.e(3541)]).then(t.bind(t,56094)))),z=a.lazy((()=>Promise.all([t.e(6119),t.e(510),t.e(1774),t.e(9159)]).then(t.bind(t,9159)))),v=a.lazy((()=>Promise.all([t.e(6119),t.e(510),t.e(6390),t.e(1774),t.e(6158),t.e(7694)]).then(t.bind(t,9105)))),T=a.lazy((()=>Promise.all([t.e(6119),t.e(510),t.e(6390),t.e(1774),t.e(6158),t.e(8635)]).then(t.bind(t,94594)))),y=a.lazy((()=>t.e(441).then(t.bind(t,60441)))),F=a.lazy((()=>t.e(7970).then(t.bind(t,27970)))),C=a.lazy((()=>Promise.all([t.e(6390),t.e(1774),t.e(5881)]).then(t.bind(t,12785)))),W=a.lazy((()=>Promise.all([t.e(6119),t.e(6390),t.e(6158),t.e(1e3)]).then(t.bind(t,14850)))),U=a.lazy((()=>Promise.all([t.e(6119),t.e(510),t.e(6390),t.e(1774),t.e(8816),t.e(6520),t.e(9751)]).then(t.bind(t,86211)))),N=d.ZQ?o.TQ:d.ig?o.K$:o.oH,L=d.ZQ?o.z8:d.ig?o.EM:o.rV,E=a.memo((e=>{let{renderId:n,wall:t,reviewFilters:s,webFilters:l,postData:o,adjustWidth:r,languageSetting:p,clickToShowPopUp:h,cardNumber:N,onClickToCTA:L,postSizeInPx:E,onClickPopUpSlider:M,parentID:H,keyRender:R,containerSize:A}=e;const _=!o.hasMoreData[0]||0!=o.hasMoreData[0].hasMoreData&&(!o.hasMoreData[o.appendData.networkID]||o.hasMoreData[o.appendData.networkID].hasMoreData),B={...o,reviewFilters:s,webFilters:l,hasMoreData:_,wall:t,adjustWidth:r,languageSetting:p,clickToShowPopUp:h,onClickToCTA:L,onClickPopUpSlider:M,keyRender:R,containerSize:A};switch(t.Personalization.widgetTheme){case 20:return r?(0,c.jsx)(a.Suspense,{fallback:(0,c.jsx)(c.Fragment,{}),children:(0,c.jsx)(w,{...B})}):null;case 5:return r?(0,c.jsx)(a.Suspense,{fallback:(0,c.jsx)(c.Fragment,{}),children:(0,c.jsx)(g,{...B})}):null;case 3:return r?(0,c.jsx)(a.Suspense,{fallback:(0,c.jsx)(c.Fragment,{}),children:(0,c.jsx)(m,{...B})}):null;case 4:return r?(0,c.jsxs)(a.Suspense,{fallback:(0,c.jsx)(c.Fragment,{}),children:[(0,c.jsx)(x,{...B,cardNumber:N,postSizeInPx:E})," "]}):null;case 19:case 59:case 83:return r?(0,c.jsxs)(a.Suspense,{fallback:(0,c.jsx)(c.Fragment,{}),children:[(0,c.jsx)(u,{...B})," "]}):null;case 50:return d.ig?(0,c.jsx)(a.Suspense,{fallback:(0,c.jsx)(c.Fragment,{}),children:(0,c.jsx)(b,{...B,cardNumber:N,renderId:n,postSizeInPx:E})}):(0,c.jsx)(a.Suspense,{fallback:(0,c.jsx)(c.Fragment,{}),children:(0,c.jsx)(j,{...B,cardNumber:N,renderId:n,postSizeInPx:E})});case 52:case 79:return d.ZQ||d.Jx&&(0,i.mD)(79)?r?(0,c.jsx)(a.Suspense,{fallback:(0,c.jsx)(c.Fragment,{}),children:(0,c.jsx)(w,{...B})}):null:(0,c.jsx)(a.Suspense,{fallback:(0,c.jsx)(c.Fragment,{}),children:(0,c.jsx)(I,{...B})});case 16:return(0,c.jsx)(a.Suspense,{fallback:(0,c.jsx)(c.Fragment,{}),children:(0,c.jsx)(v,{...B,cardNumber:N,postSizeInPx:E,onClickPopUpSlider:M,parentID:H})});case 55:case 81:return(0,c.jsx)(a.Suspense,{fallback:(0,c.jsx)(c.Fragment,{}),children:(0,c.jsx)(D,{...B,cardNumber:parseInt(N),onClickPopUpSlider:M,parentID:H})});case 49:case 53:case 85:return d.ig?(0,c.jsx)(a.Suspense,{fallback:(0,c.jsx)(c.Fragment,{}),children:(0,c.jsx)(P,{...B,cardNumber:N,renderId:n,postSizeInPx:E})}):(0,c.jsx)(a.Suspense,{fallback:(0,c.jsx)(c.Fragment,{}),children:(0,c.jsx)(S,{...B})});case 47:return(0,c.jsx)(a.Suspense,{fallback:(0,c.jsx)(c.Fragment,{}),children:(0,c.jsx)(T,{...B,cardNumber:N,onClickPopUpSlider:M,renderId:n,parentID:H})});case 54:case 80:return(0,c.jsx)(a.Suspense,{fallback:(0,c.jsx)(c.Fragment,{}),children:(0,c.jsx)(C,{...B,onClickPopUpSlider:M,renderId:n,parentID:H})});case 6:case 61:return(0,c.jsx)(a.Suspense,{fallback:(0,c.jsx)(c.Fragment,{}),children:(0,c.jsx)(k,{...B,onClickPopUpSlider:M,renderId:n,parentID:H})});case 62:return(0,c.jsx)(a.Suspense,{fallback:(0,c.jsx)(c.Fragment,{}),children:(0,c.jsx)(f,{...B,cardNumber:N,onClickPopUpSlider:M,renderId:n,parentID:H})});case 57:case 84:return(0,c.jsx)(a.Suspense,{fallback:(0,c.jsx)(c.Fragment,{}),children:(0,c.jsx)(y,{...B})});case 58:case 82:return(0,c.jsx)(a.Suspense,{fallback:(0,c.jsx)(c.Fragment,{}),children:(0,c.jsx)(F,{...B})});case 60:case 56:return(0,c.jsx)(a.Suspense,{fallback:(0,c.jsx)(c.Fragment,{}),children:(0,c.jsx)(z,{...B,onClickPopUpSlider:M,parentID:H})});case 63:return(0,c.jsx)(a.Suspense,{fallback:(0,c.jsx)(c.Fragment,{}),children:(0,c.jsx)(U,{...B,onClickPopUpSlider:M,parentID:H})});case 64:return(0,c.jsx)(a.Suspense,{fallback:(0,c.jsx)(c.Fragment,{}),children:(0,c.jsx)(W,{...B,onClickPopUpSlider:M,parentID:H})});default:return(0,c.jsx)(c.Fragment,{})}}));class M extends a.PureComponent{constructor(){super(...arguments),this.state={windowWidth:window.innerWidth,windowHeight:window.innerHeight,adjustWidth:0,cardNumber:0,postSizeInPx:0,isLoaded:!1},this.autoLoadEditorScrollData=e=>{const{wall:n,postData:t,loaderData:a}=this.props,s=n.ThemeRule.numberOfPosts;let l=document.getElementsByClassName("wall-editor");if(1==n.Personalization.autoScrollStatus&&N.includes(n.Personalization.widgetTheme)&&l.length>0){let e=l[0];if(document.body.scrollHeight+e.scrollTop>=e.scrollHeight-10&&(!a||!a.isShowMoreLoading)){const e=Math.floor(Date.now()/1e3);this.props.getDataNextSteps(n.Wall.id,e,s,t.appendData.networkID,t.appendData.after,t.appendData.heightEvent)}}},this.autoLoadScrollData=e=>{const{wall:n,postData:t,loaderData:a}=this.props,s=n.ThemeRule.numberOfPosts,l=document.body,i=document.documentElement;if(1===n.Personalization.autoScrollStatus&&N.includes(n.Personalization.widgetTheme)){const e=Math.max(l.scrollHeight,l.offsetHeight,i.clientHeight,i.scrollHeight,i.offsetHeight);if(window.innerHeight+window.pageYOffset>=parseInt(e)-parseInt(50)&&(!a||!a.isShowMoreLoading)){const e=Math.floor(Date.now()/1e3);this.props.getDataNextSteps(n.Wall.id,e,s,t.appendData.networkID,t.appendData.after,t.appendData.heightEvent)}}},this.onResponsiveTheme=e=>{const{wall:n}=this.props;let{windowWidth:t}=this.state;t=2===e?t+165:t;let{adjustWidth:a,cardNumber:s}=(0,i.X8)(t,n);a=(100/t*a).toFixed(2),this.setState({adjustWidth:a,cardNumber:s,postSizeInPx:(0,i.X8)(t,n)})},this.onClickToShowPopup=(e,n)=>t=>{t.stopPropagation(),this.onLoadPopUp(e,n)},this.onClickPopUpSlider=(e,n)=>this.onLoadPopUp(e,n),this.onLoadPopUp=(e,n)=>{var t;const{wall:a,languageSetting:s,postData:o}=this.props,c="tagembed"==(null===a||void 0===a||null===(t=a.User)||void 0===t?void 0:t.userDatabaseType);if(c||d.ig||!(l.tq&&!a.Personalization.mobilePopup||c&&a.Personalization.mobilePopup&&""!==n.link)){let t=o.postData.map((e=>o.completeDataObject[e])).filter((e=>!String(e.id).includes("free_add_"))),l=(0,i.E6)(t,n.id,e);if(2===a.Personalization.postFeatured){if("undefined"==n.link||""==n.link)return!1;window.open(n.link,"_blank")}else 3===a.Personalization.postFeatured?window.open(a.Personalization.customUrl,"_blank"):1===a.Personalization.postFeatured&&this.props.showPopUP({type:"post",card:n,idArray:t,index:l,viewOnText:s.viewOnText,shareText:s.shareText,personalization:a.Personalization,imgData:i.CC,ThemeRule:a.ThemeRule,wall:a})}else{if("undefined"==n.link)return!1;window.open(n.link,"_blank")}const p={feed:n.feedId,post:n.referenceId?n.referenceId:n.id},h={wallId:a.Wall.id,userId:a.Wall.owner,feedId:n.feedId,postId:n.id},u={action:2,wall:a.Wall.id,feed:n.feedId,post:n.referenceId?n.referenceId:n.id,type:3,owner:a.Wall.owner};(0,r.S5)(d.ZQ?h:d.nX?u:{action:2,wall:a.Wall.id,...p,owner:a.Wall.owner}),(0,r.Fv)("Tagbox","popupclick_","popup",n.link)},this.onClickToCTA=e=>{const{wall:n}=this.props;d.ZQ||(0,r.S5)({action:2,wall:n.Wall.id,type:1,feed:e.feedId,post:e.referenceId?e.referenceId:e.id,owner:n.Wall.owner}),(0,r.Fv)("Tagbox","ctaClick","cta",e.cta&&e.cta.url?e.cta.url:"")}}componentWillMount(){const{renderId:e}=this.props.renderId;this.setState({windowWidth:e&&document.getElementById(e)?document.getElementById(e).clientWidth:window.innerWidth})}componentDidMount(){var e;const{renderId:n}=this.props.renderId,{postData:t}=this.props,a=document.querySelectorAll(".tagshop-title");if((null===t||void 0===t||null===(e=t.postData)||void 0===e?void 0:e.length)>0&&(null===a||void 0===a?void 0:a.length)>0&&a.forEach((e=>{var n;return null===e||void 0===e||null===(n=e.classList)||void 0===n?void 0:n.remove("d-none")})),this.onResponsiveTheme(),window.addEventListener&&window.addEventListener("resize",(()=>{var e;this.setState({windowWidth:n&&document.getElementById(n)?null===(e=document.getElementById(n))||void 0===e?void 0:e.clientWidth:window.innerWidth,windowHeight:window.innerHeight},(()=>this.onResponsiveTheme()))})),window.editor){let e=document.getElementsByClassName("wall-editor");e.length>0&&e[0].addEventListener("scroll",this.autoLoadEditorScrollData)}else window.addEventListener&&window.addEventListener("scroll",this.autoLoadScrollData);setTimeout((()=>{this.setState({isLoaded:!0})}),1e3),d.ig&&!d.Jc&&(0,i.ad)()}componentWillReceiveProps(e){e!=this.props&&d.Jc&&this.onResponsiveTheme()}render(){var e,n,t;const{wall:s,languageSetting:l,postData:i,containerSize:o,brandingNetworks:r,parentID:u}=this.props;window.onResponsiveTheme=this.onResponsiveTheme;const{isLoaded:m}=this.state,g=!d.ZQ||58!=s.Personalization.widgetTheme&&57!=s.Personalization.widgetTheme;return(0,c.jsx)(c.Fragment,{children:(0,c.jsxs)("div",{className:"tb_theme_container",children:[i.isFreeAdsStatus&&!d.ig&&g&&(null===i||void 0===i||null===(e=i.completeData)||void 0===e?void 0:e.length)>0?(0,c.jsxs)(a.Suspense,{fallback:(0,c.jsx)(c.Fragment,{}),children:[(0,c.jsx)(h,{containerSize:o,languageSetting:l,brandingNetworks:r,wallId:s.Wall.id,themeID:s.Personalization.widgetTheme,user:null===s||void 0===s||null===(n=s.User)||void 0===n?void 0:n.userDatabaseType})," "]}):null,(0,c.jsx)(E,{...this.props,...this.state,clickToShowPopUp:this.onClickToShowPopup,onClickToCTA:this.onClickToCTA,onClickPopUpSlider:this.onClickPopUpSlider,parentID:u,onLoadPopUp:this.onLoadPopUp}),i.isFreeAdsStatus&&d.ig&&g&&(null===i||void 0===i||null===(t=i.completeData)||void 0===t?void 0:t.length)>0?(0,c.jsxs)(a.Suspense,{fallback:(0,c.jsx)(c.Fragment,{}),children:[(0,c.jsx)(h,{containerSize:o,languageSetting:l,brandingNetworks:r,wallId:s.Wall.id,themeID:s.Personalization.widgetTheme})," "]}):null,m&&1===s.Personalization.loadMoreStatus&&L.includes(s.Personalization.widgetTheme)?(0,c.jsx)(a.Suspense,{fallback:(0,c.jsx)(c.Fragment,{}),children:(0,c.jsx)(p,{languageSetting:l,wall:s,appendData:i.appendData,postData:i,isBranding:!(!i.isFreeAdsStatus||!d.ig)})}):null]})})}}const H=(0,s.$j)((e=>({loaderData:e.loaderData,renderId:e.renderId})),(e=>({showPopUP:n=>e((0,r.Bm)(n)),getDataNextSteps:(n,t,a,s,l,i,o)=>e((0,r.Sx)(n,t,a,s,l,i,o))})))(M)}}]);