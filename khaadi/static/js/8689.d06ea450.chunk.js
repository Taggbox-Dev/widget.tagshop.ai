"use strict";(self.webpackChunkembed_widget=self.webpackChunkembed_widget||[]).push([[8689],{88689:(e,n,t)=>{t.r(n),t.d(n,{default:()=>m});var i=t(9950),a=t(10300),l=t(52867),s=t(80415),r=t(66345),o=t(44414);const d=i.lazy((()=>t.e(2804).then(t.bind(t,2804)))),u=i.lazy((()=>t.e(4121).then(t.bind(t,14121)))),c=i.lazy((()=>t.e(693).then(t.bind(t,50693)))),p=i.lazy((()=>t.e(1422).then(t.bind(t,51422)))),h=i.lazy((()=>t.e(56).then(t.bind(t,70056)))),v=i.lazy((()=>Promise.all([t.e(8400),t.e(629)]).then(t.bind(t,30629))));class g extends i.PureComponent{constructor(){super(),this.updateContainerSize=()=>{this.containerRef.current&&this.setState({containerSize:{width:this.containerRef.current.offsetWidth,height:this.containerRef.current.offsetHeight}})},this.state={containerSize:{width:null,height:null},parentID:""},this.containerRef=i.createRef()}componentDidMount(){var e,n;((0,l.YD)(this.props.ThemeId),this.updateContainerSize(),window.addEventListener("resize",this.updateContainerSize),this.containerRef.current,this.observer=new IntersectionObserver((e=>{let[n]=e;n.isIntersecting&&((0,l.KL)(),this.observer.disconnect())}),{threshold:.002}),null!==this&&void 0!==this&&null!==(e=this.containerRef)&&void 0!==e&&e.current)&&this.observer.observe(null===this||void 0===this||null===(n=this.containerRef)||void 0===n?void 0:n.current)}componentWillUnmount(){window.removeEventListener("resize",this.updateContainerSize)}componentDidUpdate(){var e;let n=document.querySelector(".tb_app_container"),t=l.wV?l.wV:null===n||void 0===n||null===(e=n.parentNode)||void 0===e?void 0:e.id;this.setState({parentID:t})}render(){var e,n,t,a,l,g,m,b,k,f,j;const{wall:x,reviewFilters:w,webFilters:S,postData:B,filter_tags:I}=this.props,{containerSize:z,parentID:D}=this.state,{SnapUp:y,ThemeInfo:C}=x,_=C.id,F=!(null===x||void 0===x||!x.Banner||!Object.keys(x.Banner).length||1!==(null===x||void 0===x||null===(e=x.Banner)||void 0===e?void 0:e.status)),R=!(null===x||void 0===x||!x.BannerImage||!Object.keys(x.BannerImage).length||1!==(null===x||void 0===x||null===(n=x.BannerImage)||void 0===n?void 0:n.status)),T=!!(F&&1==(null===x||void 0===x||null===(t=x.Banner)||void 0===t?void 0:t.banner_position)||R),H=!(!F||2!=(null===x||void 0===x||null===(a=x.Banner)||void 0===a?void 0:a.banner_position)),L=y.ruleStatus&&r.HY&&![63,64,50].includes(_),N=![55,52,60,16,47,57,61].includes(_),P=x.Banner&&Object.keys(x.Banner).length&&1===x.Banner.status&&6==x.Banner.type&&![57,84].includes(_),U=r.MH?1===x.Personalization.filterStatus:!!(r.MH&&1===x.Personalization.filterStatus&&S&&S.length>1),O=!!(I&&I.length>0);let V=""!=S&&S&&S.length?S.map((e=>{let{Network:n}=e;return null===n||void 0===n?void 0:n.id})):null;!r.HY&&null!==x&&void 0!==x&&null!==(l=x.Background)&&void 0!==l&&l.image&&x.Background.image.includes(s.vr)&&(x.Background.image=String(x.Background.image).replace(s.Vy,""));const M=1===(null===x||void 0===x||null===(g=x.Background)||void 0===g?void 0:g.status)&&84!==_?{backgroundImage:null!==x&&void 0!==x&&null!==(m=x.Background)&&void 0!==m&&m.url?`url(${null===x||void 0===x||null===(b=x.Background)||void 0===b?void 0:b.url})`:"",backgroundColor:null===x||void 0===x||null===(k=x.Background)||void 0===k?void 0:k.color}:null,Y=!![63,64].includes(_),E=!(1!=(null===x||void 0===x||null===(f=x.Reviews)||void 0===f?void 0:f.headerStatus)||!Y),W=P&&T||E,$=r.aD&&!r.Vn&&1===(null===(j=x.CustomTicker)||void 0===j?void 0:j.status),q=!r.aD&&N&&(U||O)&&84!==_,K=Y&&1==x.Reviews.themeStatus||!Y;return(0,o.jsxs)("div",{className:"tb_app_container",style:{minHeight:r.yR?[47,16,49,55,60,52].includes(_)?"100%":`${this.props.postHeight}px`:null},ref:this.containerRef,children:[$&&1==x.CustomTicker.ticker_position?(0,o.jsx)(i.Suspense,{fallback:(0,o.jsx)(o.Fragment,{}),children:(0,o.jsx)(c,{CustomTicker:x.CustomTicker})}):null,T?(0,o.jsx)(i.Suspense,{fallback:(0,o.jsx)(o.Fragment,{}),children:(0,o.jsx)(d,{Banner:x.Banner,BannerImage:x.BannerImage,LogoImage:x.LogoImage})}):"",(0,o.jsxs)("div",{className:"tb_app_wrapper",style:M,children:[W?(0,o.jsx)(i.Suspense,{fallback:(0,o.jsx)(o.Fragment,{}),children:(0,o.jsx)(u,{isHeader:E,reviewFilters:w,appendData:B.appendData,wall:x,postData:B})}):null,L?(0,o.jsxs)(i.Suspense,{fallback:(0,o.jsx)(o.Fragment,{}),children:[" ",(0,o.jsx)(v,{SnapUp:x.SnapUp,id:_,webId:C.webId})," "]}):null,q?(0,o.jsxs)(i.Suspense,{fallback:(0,o.jsx)(o.Fragment,{}),children:[" ",(0,o.jsx)(p,{type:x.Personalization.filter_type,webFilters:S,filter_tags:I,appendData:B.appendData,wall:x,postData:B})]}):"",K?(0,o.jsx)(i.Suspense,{fallback:(0,o.jsx)(o.Fragment,{}),children:(0,o.jsx)(h,{...this.props,brandingNetworks:V,containerSize:z,parentID:D})}):null,P&&H?(0,o.jsx)(i.Suspense,{fallback:(0,o.jsx)(o.Fragment,{}),children:(0,o.jsx)(u,{reviewFilters:w,appendData:B.appendData,wall:x,postData:B})}):null," "]}),H?(0,o.jsx)(i.Suspense,{fallback:(0,o.jsx)(o.Fragment,{}),children:(0,o.jsx)(d,{Banner:x.Banner,BannerImage:x.BannerImage,LogoImage:x.LogoImage})}):"",$&&2==x.CustomTicker.ticker_position?(0,o.jsx)(i.Suspense,{fallback:(0,o.jsx)(o.Fragment,{}),children:(0,o.jsx)(c,{CustomTicker:x.CustomTicker})}):null]})}}const m=(0,a.Ng)((e=>({renderId:e.renderId})),null)(g)}}]);