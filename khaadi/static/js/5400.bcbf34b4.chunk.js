"use strict";(self.webpackChunkembed_widget=self.webpackChunkembed_widget||[]).push([[5400],{55400:(e,t,a)=>{a.r(t),a.d(t,{default:()=>l});var r=a(9950),n=a(76506),o=a(66345),s=a(44414);class l extends r.PureComponent{constructor(e){super(e),this.state={height:"5",width:"100",error:""}}async UNSAFE_componentWillMount(){const{ImageUrl:e}=this.props,{width:t,height:a}=await(0,n.TW)(e);this.setState({height:100*a/t,width:100*t/a})}render(){const e={backgroundImage:`url(${this.props.ImageUrl})`,paddingBottom:this.state.height+"%",width:"100%"};return(0,s.jsx)("div",{className:"tb_wall_custom_header_wrap__",children:(0,s.jsx)("div",{className:"tb_header_img_ "+(o.aD?"socialwall":""),style:e,children:" "})})}}},76506:(e,t,a)=>{a.d(t,{C9:()=>b,Cq:()=>p,HI:()=>m,Ph:()=>I,S2:()=>M,TW:()=>T,Ul:()=>g,Uy:()=>h,fF:()=>f,hZ:()=>_,hz:()=>w,iS:()=>c,p5:()=>B,pj:()=>W,sl:()=>$,um:()=>u,vG:()=>k,w:()=>v,wG:()=>y});var r=a(66345),n=a(80415),o=a(296),s=a(86961);let l=[],i=!1;const d=new Headers({"Content-Type":"application/json",Authorization:`Bearer ${r.$x}`,Productdomain:r.QR}),h=e=>{var t;return null===(t=document.getElementById("tb_onsite_btn_id"))||void 0===t?void 0:t.classList.toggle("tb_onsite_btn_disabled",1===e)},u=e=>{var t,a;return null===(t=(a={1:()=>window.onShowDemoPost(1),2:()=>window.hendleFeeds("addFeeds"),3:()=>window.hendleFeeds("manageFeeds")})[e])||void 0===t?void 0:t.call(a)},c=e=>{const t=new Date(1e3*e);return`${["January","February","March","April","May","June","July","August","September","October","November","December"][t.getMonth()]} ${t.getDate()}, ${t.getFullYear()}`},g=()=>Math.floor(1e4*Math.random()).toString().padStart(4,"0"),m=e=>{try{l.push(e)}catch(t){console.log(t)}},w=e=>e&&""!==e&&!e.includes("ui-avatars"),p=e=>{if(!e)return"0 Byte";const t=Math.floor(Math.log(e)/Math.log(1024));return{size:Math.round(e/Math.pow(1024,t),2),sizeText:["Bytes","KB","MB","GB","TB"][t]}},b=e=>e.startsWith("http://")||e.startsWith("https://")?e:"https://"+e,f=e=>{const t=Date.now()-1e3*e;if(t<6e4)return"just now";const a=[{label:"year",ms:31536e6},{label:"month",ms:2592e6},{label:"week",ms:6048e5},{label:"day",ms:864e5},{label:"hour",ms:36e5},{label:"minute",ms:6e4}].find((e=>{let{ms:a}=e;return t>=a})),r=Math.floor(t/a.ms);return`${r} ${a.label}${r>1?"s":""} ago`},v=e=>{try{return null!==e&&void 0!==e&&e.includes("http")?[...new Set(e.match(/(((ftp|https?):\/\/)[\w@:%_\+.~#?&//=]+)/g))].reduce(((e,t)=>e.replaceAll(t,`<a class="text_links_" role="link" target="_blank" href="${t}">${t}</a>`)),e):e}catch{return e}},_=()=>[`${n.om}`,"Website Widget"],y=e=>e&&String(e)?unescape(e).split("/").pop().split("/").slice(-1).join().split(".").shift():"",M=["localhost","widget","wall_id="].every((e=>(0,r.vq)(e)))?"taggbox_main":r.MH||[`${r.Xg}.${r.IF}`,`${r.Xg}${r.t6}${r.IF}`,`${r.Xg}s.${r.IF}`].some((e=>(0,r.vq)(e)))?"tag_main__root":r.HY?"taggShopRoot":"taggbox_main",$=e=>{const t=Math.floor(Math.log10(e)/3)||0;return t?+(e/Math.pow(1e3,t)).toFixed(0)+["","K","M","B","T"][t]:e},I=e=>r.MH?e:atob(e),S=e=>{if(null===(a=e)||void 0===a?void 0:a.startsWith("#")){const t=parseInt(e.slice(1),16);return{r:t>>16&255,g:t>>8&255,b:255&t}}{var t;const a=(null===e||void 0===e||null===(t=e.match(/\d+/g))||void 0===t?void 0:t.map(Number))||[0,0,0];return{r:a[0],g:a[1],b:a[2]}}var a},x=e=>{const{r:t,g:a,b:r}=S(e);return Math.sqrt((255-t)**2+(255-a)**2+(255-r)**2)<=30},F=e=>{const{r:t,g:a,b:r}=S(e);return Math.sqrt((t-50)**2+(a-50)**2+(r-50)**2)<50},k=(e,t)=>{var a;null!==(a=e)&&void 0!==a&&a.startsWith("rgba")&&(e="#000000");const r=(e,t)=>t.some((t=>null===e||void 0===e?void 0:e.includes(t))),n=e=>r(e,["ffffff","255, 255, 255","#fff"]),o=e=>r(e,["000000","0, 0, 0","#000"]),[s,l]=[x(e),F(e)],[i,d]=[x(t),F(t)];return s&&i||n(e)&&n(t)?"#000000":l&&d||o(e)&&o(t)?"#ffffff":e},B=(e,t,a)=>e&&e.length>0?e.findIndex((e=>e.id===t)):a,W=()=>{try{const{wall:e}=o.A.getState().appData,{webId:t,wallId:a,ownerId:n}=e.ThemeInfo;i||(window.addEventListener("beforeunload",(()=>{if(0===l.length)return;const e=l.reduce(((e,t)=>e+t),0);e>0?fetch(r.KQ,{method:"POST",headers:d,body:JSON.stringify({action:1,model:null!==s.Ex&&void 0!==s.Ex&&s.Ex.includes("website")?"website":"wall",playCount:l.length,wall:r.HY?t:a,playTime:e,owner:n}),keepalive:!0}).finally((()=>(l=[],i=!1))):(l=[],i=!1)})),i=!0)}catch(e){console.error(e)}},T=e=>new Promise(((t,a)=>Object.assign(new Image,{onload:function(){t({width:this.naturalWidth,height:this.naturalHeight})},onerror:e=>a(new Error(`Image loading error: ${e.message}`)),src:e})))}}]);